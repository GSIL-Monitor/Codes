!function(){"use strict";angular.module("frapontillo.bootstrap-switch",[]),angular.module("frapontillo.bootstrap-switch").directive("bsSwitch",["$parse","$timeout",function(t,e){return{restrict:"A",require:"ngModel",link:function(i,n,o,r){var c=!1,a=function(){if("radio"===o.type)return o.value||t(o.ngValue)(i)||!0;var e=t(o.ngTrueValue)(i);return angular.isString(e)||(e=!0),e},s=function(t){return i.$eval(t)===!0},l=function(t){return t===!0||"true"===t||!t},h=function(t){return t?t:void 0},u=function(t){var e={switchRadioOff:l,switchActive:function(t){return!l(t)},switchAnimate:l,switchLabel:function(t){return t?t:"&nbsp;"},switchIcon:function(t){return t?"<span class='"+t+"'></span>":void 0},switchWrapper:function(t){return t||"wrapper"},switchInverse:s,switchReadonly:s},i=e[t]||h;return i(o[t])},w=function(t,e,i){if(c){var n=u(i);t.bootstrapSwitch(e,n)}},f=function(){w(n,"disabled","switchActive")},d=function(){if(!c){var t=r.$modelValue===a();c=!c,n.bootstrapSwitch({radioAllOff:u("switchRadioOff"),disabled:u("switchActive"),state:t,onText:u("switchOnText"),offText:u("switchOffText"),onColor:u("switchOnColor"),offColor:u("switchOffColor"),animate:u("switchAnimate"),size:u("switchSize"),labelText:u(o.switchLabel?"switchLabel":"switchIcon"),wrapperClass:u("switchWrapper"),handleWidth:u("switchHandleWidth"),labelWidth:u("switchLabelWidth"),inverse:u("switchInverse"),readonly:u("switchReadonly")}),r.$setViewValue("radio"===o.type?r.$modelValue:t)}},p=function(){function t(){return r.$modelValue}o.$observe("switchActive",function(t){var i=l(t);i?f(i):e(function(){f(i)})}),i.$watch(t,function(t){d(),void 0!==t&&n.bootstrapSwitch("state",t===a(),!1)},!0);var c={switchRadioOff:"radioAllOff",switchOnText:"onText",switchOffText:"offText",switchOnColor:"onColor",switchOffColor:"offColor",switchAnimate:"animate",switchSize:"size",switchLabel:"labelText",switchIcon:"labelText",switchWrapper:"wrapperClass",switchHandleWidth:"handleWidth",switchLabelWidth:"labelWidth",switchInverse:"inverse",switchReadonly:"readonly"},s=function(t,e){return function(){o.$observe(t,function(){w(n,e[t],t)})}};for(var h in c)o.$observe(h,s(h,c))},v=function(){"radio"===o.type?n.on("change.bootstrapSwitch",function(t){r.$modelValue===r.$viewValue&&t.target.checked!==$(t.target).bootstrapSwitch("state")&&(t.target.checked?r.$setViewValue(a()):a()===r.$viewValue&&r.$setViewValue(void 0))}):n.on("switchChange.bootstrapSwitch",function(t){r.$setViewValue(t.target.checked)})};v(),p(),i.$on("$destroy",function(){n.bootstrapSwitch("destroy")})}}}]).directive("bsSwitch",function(){return{restrict:"E",require:"ngModel",template:"<input bs-switch>",replace:!0}})}();