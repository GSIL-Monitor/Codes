var angles=angular.module("angles",[]);angles.chart=function(e){return{restrict:"A",scope:{data:"=",options:"=",id:"@",width:"=",height:"=",resize:"=",chart:"@",segments:"@",responsive:"=",tooltip:"=",legend:"="},link:function(t,n){var a=n[0].getContext("2d"),r=!1;t.size=function(){t.width<=0?(n.width(n.parent().width()),a.canvas.width=n.width()):(a.canvas.width=t.width||a.canvas.width,r=!0),t.height<=0?(n.height(n.parent().height()),a.canvas.height=a.canvas.width/2):(a.canvas.height=t.height||a.canvas.height,r=!0)},t.$watch("data",function(h){i&&i.destroy(),h&&(t.chart&&(e=t.chart),r&&(t.size(),s=new Chart(a)),(t.responsive||t.resize)&&(t.options.responsive=!0),void 0!==t.responsive&&(t.options.responsive=t.responsive),i=s[e](t.data,t.options),i.update(),t.legend&&angular.element(n[0]).parent().after(i.generateLegend()))},!0),t.$watch("tooltip",function(e){if(i&&i.draw(),void 0!==e&&i.segments&&!(!isFinite(e)||e>=i.segments.length||0>e)){var t=i.segments[e];t.save(),t.fillColor=t.highlightColor,i.showTooltip([t]),t.restore()}},!0),t.size();var i,s=new Chart(a)}}},angles.directive("chart",function(){return angles.chart()}),angles.directive("linechart",function(){return angles.chart("Line")}),angles.directive("barchart",function(){return angles.chart("Bar")}),angles.directive("radarchart",function(){return angles.chart("Radar")}),angles.directive("polarchart",function(){return angles.chart("PolarArea")}),angles.directive("piechart",function(){return angles.chart("Pie")}),angles.directive("doughnutchart",function(){return angles.chart("Doughnut")}),angles.directive("donutchart",function(){return angles.chart("Doughnut")});