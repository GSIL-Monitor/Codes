-- MySQL Script generated by MySQL Workbench
-- Sat Jun 17 09:27:07 2017
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema tsb_v2
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema tsb_v2
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `tsb_v2` DEFAULT CHARACTER SET utf8 ;
USE `tsb_v2` ;

-- -----------------------------------------------------
-- Table `tsb_v2`.`corporate`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`corporate` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`corporate` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `code` VARCHAR(45) NULL,
  `name` VARCHAR(1000) NULL,
  `fullName` VARCHAR(200) NULL,
  `website` VARCHAR(300) NULL,
  `brief` VARCHAR(200) NULL,
  `description` TEXT NULL,
  `round` INT(8) NULL,
  `roundDesc` VARCHAR(45) NULL,
  `corporateStatus` INT(8) NULL,
  `fundingType` INT(8) NULL,
  `currentRound` INT NULL,
  `currentRoundDesc` VARCHAR(45) NULL,
  `preMoney` BIGINT NULL,
  `investment` BIGINT NULL,
  `postMoney` BIGINT NULL,
  `shareRatio` FLOAT NULL,
  `currency` INT(8) NULL,
  `headCountMin` INT NULL,
  `headCountMax` INT NULL,
  `locationId` INT(8) NULL,
  `address` VARCHAR(200) NULL,
  `phone` VARCHAR(200) NULL,
  `establishDate` DATETIME NULL,
  `logo` VARCHAR(200) NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  `statusDate` DATETIME NULL,
  `parentId` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `code` (`code` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`company`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`company` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`company` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `code` VARCHAR(45) NULL,
  `name` VARCHAR(1000) NULL,
  `website` VARCHAR(200) NULL,
  `brief` VARCHAR(200) NULL,
  `description` TEXT NULL,
  `productDesc` TEXT NULL,
  `modelDesc` TEXT NULL,
  `operationDesc` TEXT NULL,
  `teamDesc` TEXT NULL,
  `marketDesc` TEXT NULL,
  `compititorDesc` TEXT NULL,
  `advantageDesc` TEXT NULL,
  `planDesc` TEXT NULL,
  `otherDesc` TEXT NULL,
  `companyStatus` INT(8) NULL,
  `headCountMin` INT NULL,
  `headCountMax` INT NULL,
  `logo` VARCHAR(200) NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  `statusDate` DATETIME NULL,
  `corporateId` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `code` (`code` ASC),
  INDEX `fk_company_corporate1_idx` (`corporateId` ASC),
  CONSTRAINT `fk_company_corporate1`
    FOREIGN KEY (`corporateId`)
    REFERENCES `tsb_v2`.`corporate` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`product`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`product` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`product` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NOT NULL,
  `name` VARCHAR(45) NULL,
  `description` TEXT NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_product_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_product_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`artifact`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`artifact` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`artifact` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NOT NULL,
  `name` VARCHAR(1000) NULL,
  `description` TEXT NULL,
  `link` VARCHAR(200) NULL,
  `domain` VARCHAR(200) NULL,
  `alexa` CHAR(1) NULL,
  `type` INT(8) NOT NULL,
  `productId` INT NULL,
  `tags` VARCHAR(200) NULL,
  `others` TEXT NULL,
  `rank` INT NULL DEFAULT 0,
  `nameIndex` INT NULL,
  `nameIndexTime` TIMESTAMP NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  `recommend` CHAR(1) NULL,
  `releaseDate` DATETIME NULL,
  `artifactStatus` INT NULL,
  `androidExplosion` CHAR(1) NULL,
  `display` CHAR(1) NULL DEFAULT 'Y',
  PRIMARY KEY (`id`),
  INDEX `fk_product_company_idx` (`companyId` ASC),
  INDEX `fk_access_product1_idx` (`productId` ASC),
  CONSTRAINT `fk_product_company`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_access_product1`
    FOREIGN KEY (`productId`)
    REFERENCES `tsb_v2`.`product` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`member`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`member` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`member` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(100) NULL,
  `education` TEXT NULL,
  `workEmphasis` TEXT NULL,
  `work` TEXT NULL,
  `description` TEXT NULL,
  `photo` VARCHAR(200) NULL,
  `email` VARCHAR(100) NULL,
  `phone` VARCHAR(20) NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`company_member_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`company_member_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`company_member_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NOT NULL,
  `memberId` INT NOT NULL,
  `position` VARCHAR(100) NULL,
  `joinDate` DATETIME NULL,
  `leaveDate` DATETIME NULL,
  `type` INT(8) NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_company_member_rel_company1_idx` (`companyId` ASC),
  INDEX `fk_company_member_rel_member1_idx` (`memberId` ASC),
  CONSTRAINT `fk_company_member_rel_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_company_member_rel_member1`
    FOREIGN KEY (`memberId`)
    REFERENCES `tsb_v2`.`member` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`job`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`job` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`job` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NOT NULL,
  `position` VARCHAR(200) NULL,
  `salary` VARCHAR(45) NULL,
  `description` TEXT NULL,
  `domain` INT NULL,
  `locationId` INT(8) NULL,
  `educationType` INT(8) NULL,
  `workYearType` INT(8) NULL,
  `startDate` DATETIME NULL,
  `updateDate` DATETIME NULL,
  `offline` CHAR(1) NOT NULL DEFAULT 'N',
  `source` INT NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_job_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_job_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`funding`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`funding` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`funding` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `preMoney` BIGINT NULL,
  `postMoney` BIGINT NULL,
  `investment` BIGINT NULL,
  `shareRatio` FLOAT NULL,
  `round` INT(8) NULL,
  `roundDesc` VARCHAR(45) NULL,
  `currency` INT(8) NULL,
  `precise` CHAR(1) NULL,
  `fundingDate` DATETIME NULL,
  `fundingType` INT(8) NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  `investorsRaw` TEXT NULL,
  `investors` TEXT NULL,
  `newsId` VARCHAR(100) NULL,
  `publishDate` DATETIME NULL,
  `tracked` CHAR(1) NULL,
  `corporateId` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_funding_corporate1_idx` (`corporateId` ASC),
  CONSTRAINT `fk_funding_corporate1`
    FOREIGN KEY (`corporateId`)
    REFERENCES `tsb_v2`.`corporate` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`investor`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`investor` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`investor` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(100) NULL,
  `website` VARCHAR(200) NULL,
  `domain` VARCHAR(100) NULL,
  `description` TEXT NULL,
  `logo` VARCHAR(100) NULL,
  `stage` TEXT NULL,
  `field` TEXT NULL,
  `type` INT NULL,
  `display` CHAR(1) NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  `online` CHAR(1) NULL DEFAULT 'N',
  `establishDate` DATE NULL,
  `locationId` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `idx_investor_online` (`online` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`funding_investor_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`funding_investor_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`funding_investor_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `fundingId` INT NOT NULL,
  `investorType` INT NOT NULL DEFAULT 38001,
  `investorId` INT NULL,
  `companyId` INT NULL,
  `currency` INT(8) NULL,
  `investment` BIGINT NULL,
  `precise` CHAR(1) NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_funding_investor_rel_investor1_idx` (`investorId` ASC),
  INDEX `fk_funding_investor_rel_funding1_idx` (`fundingId` ASC),
  INDEX `fk_funding_investor_rel_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_funding_investor_rel_investor1`
    FOREIGN KEY (`investorId`)
    REFERENCES `tsb_v2`.`investor` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_funding_investor_rel_funding1`
    FOREIGN KEY (`fundingId`)
    REFERENCES `tsb_v2`.`funding` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_funding_investor_rel_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`footprint`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`footprint` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`footprint` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NOT NULL,
  `footDate` DATETIME NULL,
  `description` TEXT NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_footprint_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_footprint_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`document`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`document` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`document` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NOT NULL,
  `name` VARCHAR(200) NULL,
  `description` TEXT NULL,
  `link` VARCHAR(200) NULL,
  `rank` INT NULL,
  `type` INT(8) NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_document_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_document_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`company_alias`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`company_alias` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`company_alias` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NOT NULL,
  `name` VARCHAR(200) NULL,
  `type` INT(8) NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  `gongchangCheckTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_alias_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_alias_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`news`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`news` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`news` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_news_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_news_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_company`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_company` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_company` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NULL,
  `name` VARCHAR(1000) NULL,
  `fullName` VARCHAR(200) NULL,
  `brief` VARCHAR(200) NULL,
  `description` TEXT NULL,
  `productDesc` TEXT NULL,
  `modelDesc` TEXT NULL,
  `operationDesc` TEXT NULL,
  `teamDesc` TEXT NULL,
  `marketDesc` TEXT NULL,
  `compititorDesc` TEXT NULL,
  `advantageDesc` TEXT NULL,
  `planDesc` TEXT NULL,
  `otherDesc` TEXT NULL,
  `round` INT NULL,
  `roundDesc` VARCHAR(50) NULL,
  `companyStatus` INT NULL,
  `fundingType` INT NULL,
  `preMoney` BIGINT NULL,
  `investment` BIGINT NULL,
  `currency` INT NULL,
  `locationId` INT NULL,
  `address` VARCHAR(200) NULL,
  `phone` VARCHAR(200) NULL,
  `establishDate` DATETIME NULL,
  `logo` VARCHAR(200) NULL,
  `source` INT NULL,
  `sourceId` VARCHAR(100) NULL,
  `field` VARCHAR(100) NULL,
  `subField` VARCHAR(100) NULL,
  `tags` VARCHAR(1000) NULL,
  `headCountMin` INT NULL,
  `headCountMax` INT NULL,
  `type` INT NULL DEFAULT 41010,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `processStatus` INT NOT NULL DEFAULT 0,
  `auditor` INT NULL,
  `auditTime` TIMESTAMP NULL,
  `auditMemo` TEXT NULL,
  `recommendCompanyIds` VARCHAR(200) NULL,
  `diffResult` INT NULL,
  `aggregateGrade` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_company_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_source_company_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_member`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_member` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_member` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `memberId` INT NULL,
  `name` VARCHAR(100) NOT NULL,
  `photo` VARCHAR(100) NULL,
  `weibo` VARCHAR(200) NULL,
  `location` VARCHAR(100) NULL,
  `role` VARCHAR(100) NULL,
  `description` TEXT NULL,
  `education` TEXT NULL,
  `work` TEXT NULL,
  `source` INT NULL,
  `sourceId` VARCHAR(100) NULL,
  `verify` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `processStatus` INT NOT NULL DEFAULT 0,
  PRIMARY KEY (`id`),
  INDEX `fk_source_member_member1_idx` (`memberId` ASC),
  CONSTRAINT `fk_source_member_member1`
    FOREIGN KEY (`memberId`)
    REFERENCES `tsb_v2`.`member` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_document`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_document` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_document` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourceCompanyId` INT NOT NULL,
  `name` VARCHAR(200) NULL,
  `description` TEXT NULL,
  `link` VARCHAR(200) NULL,
  `type` INT NULL,
  `verify` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_document_source_company1_idx` (`sourceCompanyId` ASC),
  CONSTRAINT `fk_source_document_source_company1`
    FOREIGN KEY (`sourceCompanyId`)
    REFERENCES `tsb_v2`.`source_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_funding`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_funding` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_funding` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourceCompanyId` INT NOT NULL,
  `preMoney` BIGINT NULL,
  `postMoney` BIGINT NULL,
  `investment` BIGINT NULL,
  `round` INT NULL,
  `roundDesc` VARCHAR(45) NULL,
  `currency` INT NULL,
  `precise` CHAR(1) NULL,
  `fundingDate` DATETIME NULL,
  `verify` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `processStatus` INT NOT NULL DEFAULT 0,
  `diffResult` INT NULL,
  `diffPosition` INT NULL,
  `newsUrl` VARCHAR(500) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_funding_source_company1_idx` (`sourceCompanyId` ASC),
  CONSTRAINT `fk_source_funding_source_company1`
    FOREIGN KEY (`sourceCompanyId`)
    REFERENCES `tsb_v2`.`source_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_footprint`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_footprint` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_footprint` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourceCompanyId` INT NOT NULL,
  `footDate` DATETIME NULL,
  `description` TEXT NULL,
  `verify` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_footprint_source_company1_idx` (`sourceCompanyId` ASC),
  CONSTRAINT `fk_source_footprint_source_company1`
    FOREIGN KEY (`sourceCompanyId`)
    REFERENCES `tsb_v2`.`source_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_artifact`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_artifact` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_artifact` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourceCompanyId` INT NOT NULL,
  `name` VARCHAR(1000) NULL,
  `description` TEXT NULL,
  `link` VARCHAR(200) NULL,
  `domain` VARCHAR(200) NULL,
  `type` INT NULL,
  `rank` INT NULL,
  `rankDate` DATETIME NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `extended` CHAR(1) NULL,
  `expanded` CHAR(1) NULL,
  `diffResult` INT NULL,
  `diffPosition` INT NULL,
  `artifactStatus` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_artifact_source_company1_idx` (`sourceCompanyId` ASC),
  CONSTRAINT `fk_source_artifact_source_company1`
    FOREIGN KEY (`sourceCompanyId`)
    REFERENCES `tsb_v2`.`source_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_job`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_job` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_job` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourceCompanyId` INT NOT NULL,
  `position` VARCHAR(200) NULL,
  `salary` VARCHAR(45) NULL,
  `description` TEXT NULL,
  `domain` INT NULL,
  `locationId` INT NULL,
  `educationType` INT NULL,
  `workYearType` INT NULL,
  `startDate` DATETIME NULL,
  `updateDate` DATETIME NULL,
  `offline` CHAR(1) NULL,
  `source` INT NULL,
  `sourceId` INT NULL,
  `verify` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_job_source_company1_idx` (`sourceCompanyId` ASC),
  CONSTRAINT `fk_source_job_source_company1`
    FOREIGN KEY (`sourceCompanyId`)
    REFERENCES `tsb_v2`.`source_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_investor`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_investor` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_investor` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `investorId` INT NULL,
  `name` VARCHAR(100) NULL,
  `website` VARCHAR(200) NULL,
  `description` TEXT NULL,
  `logo` VARCHAR(100) NULL,
  `stage` TEXT NULL,
  `field` TEXT NULL,
  `type` INT NULL,
  `source` INT NULL,
  `sourceId` VARCHAR(100) NULL,
  `verify` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `processStatus` INT NOT NULL DEFAULT 0,
  PRIMARY KEY (`id`),
  INDEX `fk_source_investor_investor1_idx` (`investorId` ASC),
  CONSTRAINT `fk_source_investor_investor1`
    FOREIGN KEY (`investorId`)
    REFERENCES `tsb_v2`.`investor` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`user`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`user` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`user` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `username` VARCHAR(45) NULL,
  `email` VARCHAR(45) NULL,
  `phone` VARCHAR(45) NULL,
  `password` VARCHAR(45) NULL,
  `token` VARCHAR(100) NULL,
  `tokenTime` DATETIME NULL,
  `loginFailTimes` INT NULL DEFAULT 0,
  `loginIP` VARCHAR(50) NULL,
  `keepLoginSecret` VARCHAR(32) NULL,
  `lastLoginTime` DATETIME NULL,
  `oneTimePwd` VARCHAR(32) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `userIdentify` INT NULL,
  `phoneVerify` CHAR(1) NULL,
  `position` VARCHAR(100) NULL,
  `verifiedInvestor` CHAR(1) NULL,
  `emailVerify` CHAR(1) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`user_profile`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`user_profile` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`user_profile` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NOT NULL,
  `name` VARCHAR(45) NULL,
  `gender` INT NULL,
  PRIMARY KEY (`id`, `userId`),
  INDEX `fk_user_profile_user1_idx` (`userId` ASC),
  CONSTRAINT `fk_user_profile_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`user_setting`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`user_setting` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`user_setting` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NOT NULL,
  `language` INT NULL,
  `recommendNum` INT NOT NULL DEFAULT 2,
  PRIMARY KEY (`id`, `userId`),
  INDEX `fk_user_setting_user1_idx` (`userId` ASC),
  CONSTRAINT `fk_user_setting_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`user_role`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`user_role` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`user_role` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NOT NULL,
  `role` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_user_role_user1_idx` (`userId` ASC),
  CONSTRAINT `fk_user_role_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`user_save_search`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`user_save_search` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`user_save_search` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NOT NULL,
  `params` VARCHAR(500) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_user_save_search_user1_idx` (`userId` ASC),
  CONSTRAINT `fk_user_save_search_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`tag`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`tag` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`tag` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NULL,
  `type` INT(8) NULL,
  `weight` VARCHAR(45) NULL,
  `novelty` FLOAT NULL,
  `hot` CHAR(1) NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`tags_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`tags_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`tags_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `tagId` INT NOT NULL,
  `tag2Id` INT NOT NULL,
  `distance` FLOAT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  INDEX `fk_tags_rel_tag2_idx` (`tag2Id` ASC),
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_tags_rel_tag1`
    FOREIGN KEY (`tagId`)
    REFERENCES `tsb_v2`.`tag` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tags_rel_tag2`
    FOREIGN KEY (`tag2Id`)
    REFERENCES `tsb_v2`.`tag` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`company_tag_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`company_tag_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`company_tag_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NOT NULL,
  `tagId` INT NOT NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  `comment` TEXT NULL,
  INDEX `fk_company_tag_rel_company1_idx` (`companyId` ASC),
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_company_tag_rel_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_company_tag_rel_tag1`
    FOREIGN KEY (`tagId`)
    REFERENCES `tsb_v2`.`tag` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`companies_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`companies_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`companies_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NOT NULL,
  `company2Id` INT NOT NULL,
  `distance` FLOAT NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  INDEX `fk_companies_rel_company2_idx` (`company2Id` ASC),
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_companies_rel_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_companies_rel_company2`
    FOREIGN KEY (`company2Id`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`crowdfunding`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`crowdfunding` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`crowdfunding` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NULL,
  `name` VARCHAR(200) NULL,
  `description` TEXT NULL,
  `amountRaising` INT NULL,
  `successRaising` INT NULL,
  `coinvestorCount` INT NULL,
  `minInvestment` INT NULL,
  `currency` INT NULL,
  `startDate` DATETIME NULL,
  `endDate` DATETIME NULL,
  `preMoney` INT NULL,
  `postMoney` INT NULL,
  `status` INT NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_crowdfunding_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_crowdfunding_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`cf_comment`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`cf_comment` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`cf_comment` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `cfId` INT NOT NULL,
  `comment` TEXT NULL,
  `commentTime` TIMESTAMP NULL,
  `username` VARCHAR(45) NULL,
  `userId` INT NULL,
  `type` INT NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  INDEX `fk_cf_comment_crowdfunding1_idx` (`cfId` ASC),
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_cf_comment_crowdfunding1`
    FOREIGN KEY (`cfId`)
    REFERENCES `tsb_v2`.`crowdfunding` (`companyId`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`cf_leader_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`cf_leader_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`cf_leader_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `cfId` INT NOT NULL,
  `investorId` INT NOT NULL,
  `description` TEXT NULL,
  `investment` INT NULL,
  `currency` INT NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  INDEX `fk_cf_leader_rel_crowdfunding1_idx` (`cfId` ASC),
  INDEX `fk_cf_leader_rel_investor1_idx` (`investorId` ASC),
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_cf_leader_rel_crowdfunding1`
    FOREIGN KEY (`cfId`)
    REFERENCES `tsb_v2`.`crowdfunding` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_cf_leader_rel_investor1`
    FOREIGN KEY (`investorId`)
    REFERENCES `tsb_v2`.`investor` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`user_dicationary`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`user_dicationary` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`user_dicationary` (
  `id` INT NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`dictionary`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`dictionary` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`dictionary` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `typeValue` INT NULL,
  `typeName` VARCHAR(45) NULL,
  `subTypeValue` INT NULL,
  `subTypeName` VARCHAR(45) NULL,
  `value` INT NULL,
  `name` VARCHAR(45) NULL,
  PRIMARY KEY (`id`),
  INDEX `idx_dict1` (`typeValue` ASC),
  INDEX `idx_dict2` (`subTypeValue` ASC),
  UNIQUE INDEX `idx_dict3` (`value` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_funding_investor_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_funding_investor_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_funding_investor_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourceFundingId` INT NOT NULL,
  `investorType` INT NOT NULL DEFAULT 38001,
  `sourceInvestorId` INT NULL,
  `sourceCompanyId` INT NULL,
  `currency` INT NULL,
  `investment` BIGINT NULL,
  `precise` CHAR(1) NULL,
  `verify` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_funding_investor_rel_source_funding1_idx` (`sourceFundingId` ASC),
  INDEX `fk_source_funding_investor_rel_source_investor1_idx` (`sourceInvestorId` ASC),
  INDEX `fk_source_funding_investor_rel_source_company1_idx` (`sourceCompanyId` ASC),
  CONSTRAINT `fk_source_funding_investor_rel_source_funding1`
    FOREIGN KEY (`sourceFundingId`)
    REFERENCES `tsb_v2`.`source_funding` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_source_funding_investor_rel_source_investor1`
    FOREIGN KEY (`sourceInvestorId`)
    REFERENCES `tsb_v2`.`source_investor` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_source_funding_investor_rel_source_company1`
    FOREIGN KEY (`sourceCompanyId`)
    REFERENCES `tsb_v2`.`source_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_company_member_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_company_member_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_company_member_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourceCompanyId` INT NOT NULL,
  `sourceMemberId` INT NOT NULL,
  `position` VARCHAR(100) NULL,
  `joinDate` DATETIME NULL,
  `leaveDate` DATETIME NULL,
  `type` INT NULL,
  `verify` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `diffResult` INT NULL,
  `diffPosition` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_company_member_rel_source_company1_idx` (`sourceCompanyId` ASC),
  INDEX `fk_source_company_member_rel_source_member1_idx` (`sourceMemberId` ASC),
  CONSTRAINT `fk_source_company_member_rel_source_company1`
    FOREIGN KEY (`sourceCompanyId`)
    REFERENCES `tsb_v2`.`source_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_source_company_member_rel_source_member1`
    FOREIGN KEY (`sourceMemberId`)
    REFERENCES `tsb_v2`.`source_member` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`investor_member`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`investor_member` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`investor_member` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `investorId` INT NOT NULL,
  `name` VARCHAR(100) NOT NULL,
  `logo` VARCHAR(100) NULL,
  `position` VARCHAR(100) NULL,
  `description` TEXT NULL,
  `locationId` INT NULL,
  `education` TEXT NULL,
  `work` TEXT NULL,
  `field` TEXT NULL,
  `verfiy` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_investor_member_investor1_idx` (`investorId` ASC),
  CONSTRAINT `fk_investor_member_investor1`
    FOREIGN KEY (`investorId`)
    REFERENCES `tsb_v2`.`investor` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`funding_investor_member_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`funding_investor_member_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`funding_investor_member_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `investorMemberId` INT NOT NULL,
  `fundingInvestorRelId` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_funding_investor_member_rel_investor_member1_idx` (`investorMemberId` ASC),
  INDEX `fk_funding_investor_member_rel_funding_investor_rel1_idx` (`fundingInvestorRelId` ASC),
  CONSTRAINT `fk_funding_investor_member_rel_investor_member1`
    FOREIGN KEY (`investorMemberId`)
    REFERENCES `tsb_v2`.`investor_member` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_funding_investor_member_rel_funding_investor_rel1`
    FOREIGN KEY (`fundingInvestorRelId`)
    REFERENCES `tsb_v2`.`funding_investor_rel` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_investor_member`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_investor_member` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_investor_member` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourceInvestorId` INT NOT NULL,
  `investorMemberId` INT NULL,
  `name` VARCHAR(100) NOT NULL,
  `logo` VARCHAR(100) NULL,
  `position` VARCHAR(100) NULL,
  `description` TEXT NULL,
  `location` VARCHAR(100) NULL,
  `education` TEXT NULL,
  `work` TEXT NULL,
  `field` TEXT NULL,
  `source` INT NULL,
  `sourceId` VARCHAR(100) NULL,
  `verify` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_investor_member_source_investor1_idx` (`sourceInvestorId` ASC),
  INDEX `fk_source_investor_member_investor_member1_idx` (`investorMemberId` ASC),
  CONSTRAINT `fk_source_investor_member_source_investor1`
    FOREIGN KEY (`sourceInvestorId`)
    REFERENCES `tsb_v2`.`source_investor` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_source_investor_member_investor_member1`
    FOREIGN KEY (`investorMemberId`)
    REFERENCES `tsb_v2`.`investor_member` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_funding_investor_member_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_funding_investor_member_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_funding_investor_member_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourceFundingInvestorReld` INT NOT NULL,
  `sourceInvestorMemberId` INT NOT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_funding_investor_member_rel_source_funding_invest_idx` (`sourceFundingInvestorReld` ASC),
  INDEX `fk_source_funding_investor_member_rel_source_investor_membe_idx` (`sourceInvestorMemberId` ASC),
  CONSTRAINT `fk_source_funding_investor_member_rel_source_funding_investor1`
    FOREIGN KEY (`sourceFundingInvestorReld`)
    REFERENCES `tsb_v2`.`source_funding_investor_rel` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_source_funding_investor_member_rel_source_investor_member1`
    FOREIGN KEY (`sourceInvestorMemberId`)
    REFERENCES `tsb_v2`.`source_investor_member` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_crowdfunding`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_crowdfunding` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_crowdfunding` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `cfId` INT NULL,
  `accessCount` INT NULL,
  `likesCount` INT NULL,
  `followCount` INT NULL,
  `tags` VARCHAR(200) NULL,
  `phase` VARCHAR(45) NULL,
  `unit` VARCHAR(45) NULL,
  `value` VARCHAR(45) NULL,
  `coinvestorCount` INT NULL,
  `status` VARCHAR(45) NULL,
  `maxCoinvestorNum` VARCHAR(10) NULL,
  `startDate` DATETIME NULL,
  `endDate` DATETIME NULL,
  `minInvestment` INT NULL,
  `minRaising` INT NULL,
  `successRaising` INT NULL,
  `maxRaising` INT NULL,
  `painPoint` TEXT NULL,
  `marketSituation` TEXT NULL,
  `competitorAnalyze` TEXT NULL,
  `profitModel` TEXT NULL,
  `marketShare` TEXT NULL,
  `coreResources` TEXT NULL,
  `cfAdvantage` TEXT NULL,
  `advantageAnalysis` TEXT NULL,
  `companyVision` TEXT NULL,
  `companyDesc` TEXT NULL,
  `bmSolution` TEXT NULL,
  `source` INT NULL,
  `sourceId` INT NULL,
  `companyKey` INT NULL,
  `preMoney` VARCHAR(45) NULL,
  `postMoney` VARCHAR(45) NULL,
  `verify` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_cf_leader`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_cf_leader` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_cf_leader` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourceCfid` INT NOT NULL,
  `investorName` VARCHAR(45) NULL,
  `investorType` VARCHAR(45) NULL,
  `sourceInvestorId` INT NULL,
  `description` TEXT NULL,
  `investment` INT NULL,
  `valuation` VARCHAR(45) NULL,
  `businessDesc` TEXT NULL,
  `reason` TEXT NULL,
  `risk` TEXT NULL,
  `verify` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_leader_rel_source_crowdfunding1_idx` (`sourceCfid` ASC),
  CONSTRAINT `fk_source_leader_rel_source_crowdfunding1`
    FOREIGN KEY (`sourceCfid`)
    REFERENCES `tsb_v2`.`source_crowdfunding` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_cf_document`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_cf_document` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_cf_document` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourceCfid` INT NOT NULL,
  `name` VARCHAR(45) NULL,
  `description` TEXT NULL,
  `link` VARCHAR(200) NULL,
  `rank` INT NULL,
  `sourceId` VARCHAR(45) NULL,
  `type` INT NULL,
  `verify` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_cf_document_source_crowdfunding1_idx` (`sourceCfid` ASC),
  CONSTRAINT `fk_source_cf_document_source_crowdfunding1`
    FOREIGN KEY (`sourceCfid`)
    REFERENCES `tsb_v2`.`source_crowdfunding` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_cf_member`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_cf_member` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_cf_member` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `memberId` INT NULL,
  `sourceCfId` INT NULL,
  `name` VARCHAR(45) NULL,
  `photo` VARCHAR(200) NULL,
  `location` INT NULL,
  `role` VARCHAR(45) NULL,
  `description` TEXT NULL,
  `education` VARCHAR(45) NULL,
  `work` TEXT NULL,
  `source` INT NULL,
  `sourceId` INT NULL,
  `verify` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`organization`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`organization` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`organization` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(100) NOT NULL,
  `type` INT NOT NULL,
  `status` INT NULL,
  `grade` INT NOT NULL DEFAULT 33020,
  `logo` VARCHAR(200) NULL,
  `active` CHAR(1) NULL,
  `verify` CHAR(1) NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `serviceStartDate` DATETIME NULL,
  `serviceEndDate` DATETIME NULL,
  `trial` CHAR(1) NULL,
  `emailDomain` VARCHAR(100) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NOT NULL,
  `organizationId` INT NOT NULL,
  `status` INT NOT NULL,
  `priority` INT NOT NULL,
  `declineStatus` INT NOT NULL,
  `fundingType` INT NULL,
  `round` INT NULL,
  `roundDesc` VARCHAR(45) NULL,
  `currentRound` INT NULL,
  `currentRoundDesc` VARCHAR(45) NULL,
  `currency` INT NOT NULL DEFAULT 0,
  `preMoney` BIGINT NULL,
  `investment` BIGINT NULL,
  `postMoney` BIGINT NULL,
  `shareRatio` FLOAT NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  `assignee` INT NULL,
  `sponsor` INT NULL,
  `portfolioStatus` INT NULL,
  `moneyRemainMonth` INT NULL,
  `recordDate` DATETIME NULL,
  `exitPlan` TEXT NULL,
  `name` VARCHAR(200) NULL,
  `fullName` VARCHAR(200) NULL,
  `description` TEXT NULL,
  `locationId` INT NULL,
  `address` VARCHAR(200) NULL,
  `phone` VARCHAR(200) NULL,
  `establishDate` DATETIME NULL,
  `logo` VARCHAR(200) NULL,
  `privatization` CHAR(1) NULL,
  `verify` CHAR(1) NULL,
  `verifyUser` INT NULL,
  `verifyTime` TIMESTAMP NULL,
  `lastNoteTime` TIMESTAMP NULL,
  `contact` TEXT NULL,
  `currentRoundMemo` TEXT NULL,
  `esop` TEXT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_company1_idx` (`companyId` ASC),
  INDEX `fk_deal_organization1_idx` (`organizationId` ASC),
  INDEX `fk_deal_user1_idx` (`assignee` ASC),
  INDEX `fk_deal_user2_idx` (`sponsor` ASC),
  CONSTRAINT `fk_deal_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_deal_organization1`
    FOREIGN KEY (`organizationId`)
    REFERENCES `tsb_v2`.`organization` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_deal_user1`
    FOREIGN KEY (`assignee`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_deal_user2`
    FOREIGN KEY (`sponsor`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_user_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_user_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_user_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NOT NULL,
  `dealId` INT NOT NULL,
  `userIdentify` INT NOT NULL,
  `type` INT NOT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_user_deal_rel_user1_idx` (`userId` ASC),
  INDEX `fk_user_deal_rel_deal1_idx` (`dealId` ASC),
  CONSTRAINT `fk_user_deal_rel_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_user_deal_rel_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_note`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_note` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_note` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealId` INT NOT NULL,
  `userId` INT NOT NULL,
  `note` TEXT NULL,
  `fromDate` DATETIME NULL,
  `toDate` DATETIME NULL,
  `iom` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  INDEX `fk_deal_comment_deal1_idx` (`dealId` ASC),
  PRIMARY KEY (`id`),
  INDEX `fk_deal_comment_user1_idx` (`userId` ASC),
  CONSTRAINT `fk_deal_comment_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_deal_comment_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_user_score`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_user_score` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_user_score` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NOT NULL,
  `dealId` INT NOT NULL,
  `type` INT NULL,
  `score` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_user_score_user1_idx` (`userId` ASC),
  INDEX `fk_deal_user_score_deal1_idx` (`dealId` ASC),
  CONSTRAINT `fk_deal_user_score_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_deal_user_score_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`coldcall`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`coldcall` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`coldcall` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `organizationId` INT NOT NULL,
  `coldcallType` INT NOT NULL,
  `name` VARCHAR(500) NOT NULL,
  `nameMd5` VARCHAR(32) NOT NULL,
  `content` TEXT NOT NULL,
  `url` VARCHAR(500) NULL,
  `processed` CHAR(1) NOT NULL DEFAULT 'N',
  `declineStatus` INT NOT NULL DEFAULT 0,
  `createTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_coldcall_organization1_idx` (`organizationId` ASC),
  INDEX `nameMd5_idx` (`nameMd5` ASC),
  CONSTRAINT `fk_coldcall_organization1`
    FOREIGN KEY (`organizationId`)
    REFERENCES `tsb_v2`.`organization` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`coldcall_source_company_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`coldcall_source_company_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`coldcall_source_company_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `coldcallId` INT NOT NULL,
  `sourceCompanyId` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_coldcall_source_company_rel_coldcall1_idx` (`coldcallId` ASC),
  INDEX `fk_coldcall_source_company_rel_source_company1_idx` (`sourceCompanyId` ASC),
  CONSTRAINT `fk_coldcall_source_company_rel_coldcall1`
    FOREIGN KEY (`coldcallId`)
    REFERENCES `tsb_v2`.`coldcall` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_coldcall_source_company_rel_source_company1`
    FOREIGN KEY (`sourceCompanyId`)
    REFERENCES `tsb_v2`.`source_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`company_candidate`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`company_candidate` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`company_candidate` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourceCompanyId` INT NOT NULL,
  `companyId` INT NOT NULL,
  `completion` VARCHAR(100) NULL,
  `confidence` FLOAT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_company_candidate_source_company1_idx` (`sourceCompanyId` ASC),
  INDEX `fk_company_candidate_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_company_candidate_source_company1`
    FOREIGN KEY (`sourceCompanyId`)
    REFERENCES `tsb_v2`.`source_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_company_candidate_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`coldcall_user_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`coldcall_user_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`coldcall_user_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `coldcallId` INT NOT NULL,
  `userId` INT NOT NULL,
  `userIdentify` INT NOT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_coldcall_user_rel_coldcall1_idx` (`coldcallId` ASC),
  INDEX `fk_coldcall_user_rel_user1_idx` (`userId` ASC),
  CONSTRAINT `fk_coldcall_user_rel_coldcall1`
    FOREIGN KEY (`coldcallId`)
    REFERENCES `tsb_v2`.`coldcall` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_coldcall_user_rel_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`user_organization_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`user_organization_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`user_organization_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `organizationId` INT NOT NULL,
  `userId` INT NOT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `active` CHAR(1) NULL,
  `trial` CHAR(1) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_user_organization_rel_organization1_idx` (`organizationId` ASC),
  INDEX `fk_user_organization_rel_user1_idx` (`userId` ASC),
  CONSTRAINT `fk_user_organization_rel_organization1`
    FOREIGN KEY (`organizationId`)
    REFERENCES `tsb_v2`.`organization` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_user_organization_rel_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`coldcall_file`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`coldcall_file` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`coldcall_file` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `coldcallId` INT NOT NULL,
  `filename` VARCHAR(500) NULL,
  `link` VARCHAR(50) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_coldcall_file_coldcall1_idx` (`coldcallId` ASC),
  CONSTRAINT `fk_coldcall_file_coldcall1`
    FOREIGN KEY (`coldcallId`)
    REFERENCES `tsb_v2`.`coldcall` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`organization_conf`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`organization_conf` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`organization_conf` (
  `id` INT NOT NULL,
  `salt` VARCHAR(50) NULL,
  `coldcall` TINYINT(1) NOT NULL DEFAULT 0,
  `coldcall_imap_server` VARCHAR(100) NULL,
  `coldcall_imap_port` INT NULL,
  `coldcall_username` VARCHAR(100) NULL,
  `coldcall_password` VARCHAR(100) NULL,
  `api` TINYINT(1) NOT NULL DEFAULT 0,
  `apiUrlPrefix` VARCHAR(200) NULL,
  INDEX `fk_organization_conf_organization1_idx` (`id` ASC),
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_organization_conf_organization1`
    FOREIGN KEY (`id`)
    REFERENCES `tsb_v2`.`organization` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`user_email`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`user_email` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`user_email` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NOT NULL,
  `email` VARCHAR(100) NOT NULL,
  `verify` CHAR(1) NOT NULL,
  `verifyCode` VARCHAR(32) NULL,
  `createTime` TIMESTAMP NULL,
  `verifyTime` TIMESTAMP NULL,
  `verifyCodeTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_user_email_user1_idx` (`userId` ASC),
  INDEX `email_idx` (`email` ASC),
  CONSTRAINT `fk_user_email_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_history`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_history` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_history` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealId` INT NOT NULL,
  `priority` INT NOT NULL,
  `status` INT NOT NULL,
  `declineStatus` INT NOT NULL,
  `createTime` TIMESTAMP NULL,
  `creatorId` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_history_deal1_idx` (`dealId` ASC),
  CONSTRAINT `fk_deal_history_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`user_wechat`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`user_wechat` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`user_wechat` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NULL,
  `openid` VARCHAR(100) NOT NULL,
  `nickname` VARCHAR(100) NULL,
  `sex` INT NULL,
  `province` VARCHAR(100) NULL,
  `city` VARCHAR(100) NULL,
  `country` VARCHAR(100) NULL,
  `headimgurl` VARCHAR(200) NULL,
  `createTime` TIMESTAMP NULL,
  `updateTime` TIMESTAMP NULL,
  `accesstoken` VARCHAR(200) NULL,
  `expiresin` INT NULL,
  `refreshtoken` VARCHAR(200) NULL,
  `tokenTime` TIMESTAMP NULL,
  `loginIP` VARCHAR(50) NULL,
  `lastLoginTime` DATETIME NULL,
  `type` INT NULL DEFAULT 1,
  `unionId` VARCHAR(100) NULL,
  INDEX `openid_idx` (`openid` ASC),
  PRIMARY KEY (`id`),
  INDEX `fk_user_wechat_user1_idx` (`userId` ASC),
  CONSTRAINT `fk_user_wechat_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`wechat_msg`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`wechat_msg` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`wechat_msg` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NOT NULL,
  `coldcallId` INT NOT NULL,
  `msgType` VARCHAR(50) NOT NULL,
  `title` VARCHAR(1000) NOT NULL,
  `description` TEXT NULL,
  `url` VARCHAR(300) NULL,
  `createTime` TIMESTAMP NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_wechat_msg_user1_idx` (`userId` ASC),
  INDEX `fk_wechat_msg_coldcall1_idx` (`coldcallId` ASC),
  CONSTRAINT `fk_wechat_msg_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_wechat_msg_coldcall1`
    FOREIGN KEY (`coldcallId`)
    REFERENCES `tsb_v2`.`coldcall` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`coldcall_company_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`coldcall_company_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`coldcall_company_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `coldcallId` INT NOT NULL,
  `companyId` INT NOT NULL,
  `createTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_coldcall_company_rel_coldcall1_idx` (`coldcallId` ASC),
  INDEX `fk_coldcall_company_rel_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_coldcall_company_rel_coldcall1`
    FOREIGN KEY (`coldcallId`)
    REFERENCES `tsb_v2`.`coldcall` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_coldcall_company_rel_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`sector`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`sector` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`sector` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sectorName` VARCHAR(100) NOT NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  `level` INT NOT NULL,
  `parentId` INT NULL,
  `tagId` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `idx_domain_domain` (`sectorName` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`company_sector`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`company_sector` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`company_sector` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NOT NULL,
  `sectorId` INT NOT NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_company_sector_sector1_idx` (`sectorId` ASC),
  INDEX `fk_company_sector_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_company_sector_sector1`
    FOREIGN KEY (`sectorId`)
    REFERENCES `tsb_v2`.`sector` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_company_sector_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`user_sector`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`user_sector` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`user_sector` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sectorId` INT NOT NULL,
  `userId` INT NOT NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_user_sector_sector1_idx` (`sectorId` ASC),
  INDEX `fk_user_sector_user1_idx` (`userId` ASC),
  CONSTRAINT `fk_user_sector_sector1`
    FOREIGN KEY (`sectorId`)
    REFERENCES `tsb_v2`.`sector` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_user_sector_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`recommendation`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`recommendation` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`recommendation` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NOT NULL,
  `companyId` INT NOT NULL,
  `confidence` FLOAT NOT NULL,
  `createTime` TIMESTAMP NOT NULL,
  `hasRead` CHAR(1) NULL,
  `hasNewFunding` CHAR(1) NOT NULL DEFAULT 'N',
  `reject` CHAR(1) NULL DEFAULT 'N',
  PRIMARY KEY (`id`),
  INDEX `fk_recommend_user1_idx` (`userId` ASC),
  INDEX `fk_recommend_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_recommend_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_recommend_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`demoday`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`demoday` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`demoday` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(100) NOT NULL,
  `submitEndDate` DATETIME NOT NULL,
  `preScoreStartDate` DATETIME NOT NULL,
  `preScoreEndDate` DATETIME NOT NULL,
  `connectStartDate` DATETIME NOT NULL,
  `connectEndDate` DATETIME NOT NULL,
  `holdStartDate` DATETIME NOT NULL,
  `holdEndDate` DATETIME NOT NULL,
  `status` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`demoday_company`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`demoday_company` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`demoday_company` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `demodayId` INT NOT NULL,
  `companyId` INT NOT NULL,
  `organizationId` INT NULL,
  `rank` INT NULL,
  `recommendation` TEXT NULL,
  `pass` CHAR(1) NULL DEFAULT 'Y' COMMENT '',
  `scoringStatus` INT NULL,
  `joinStatus` INT NULL,
  `startTime` TIMESTAMP NULL,
  `endTime` TIMESTAMP NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `currentRound` INT NULL,
  `currentRoundDesc` VARCHAR(50) NULL,
  `preMoney` BIGINT NULL,
  `investment` BIGINT NULL,
  `postMoney` BIGINT NULL,
  `shareRatio` FLOAT NULL,
  `currency` INT(8) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_demoday_company_rel_demoday1_idx` (`demodayId` ASC),
  INDEX `fk_demoday_company_rel_company1_idx` (`companyId` ASC),
  INDEX `fk_deal_demoday_organization1_idx` (`organizationId` ASC),
  CONSTRAINT `fk_demoday_company_rel_demoday1`
    FOREIGN KEY (`demodayId`)
    REFERENCES `tsb_v2`.`demoday` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_demoday_company_rel_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_deal_demoday_organization1`
    FOREIGN KEY (`organizationId`)
    REFERENCES `tsb_v2`.`organization` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`demoday_prescore`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`demoday_prescore` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`demoday_prescore` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NOT NULL,
  `dealDemodayId` INT NOT NULL,
  `score` INT NOT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  INDEX `fk_deal_demoday_score_user1_idx` (`userId` ASC),
  PRIMARY KEY (`id`),
  INDEX `fk_deal_demoday_score_deal_demoday1_idx` (`dealDemodayId` ASC),
  CONSTRAINT `fk_deal_demoday_score_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_deal_demoday_score_deal_demoday1`
    FOREIGN KEY (`dealDemodayId`)
    REFERENCES `tsb_v2`.`demoday_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`demoday_result`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`demoday_result` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`demoday_result` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `organizationId` INT NOT NULL,
  `demodayCompanyId` INT NOT NULL,
  `result` INT NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_demoday_result_organization1_idx` (`organizationId` ASC),
  INDEX `fk_deal_demoday_result_deal_demoday1_idx` (`demodayCompanyId` ASC),
  CONSTRAINT `fk_deal_demoday_result_organization1`
    FOREIGN KEY (`organizationId`)
    REFERENCES `tsb_v2`.`organization` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_deal_demoday_result_deal_demoday1`
    FOREIGN KEY (`demodayCompanyId`)
    REFERENCES `tsb_v2`.`demoday_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`demoday_score`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`demoday_score` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`demoday_score` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealDemodayId` INT NOT NULL,
  `userId` INT NOT NULL,
  `industry` INT NULL,
  `team` INT NULL,
  `product` INT NULL,
  `gain` INT NULL,
  `preMoney` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_demoday_score_deal_demoday1_idx` (`dealDemodayId` ASC),
  INDEX `fk_demoday_score_user1_idx` (`userId` ASC),
  CONSTRAINT `fk_demoday_score_deal_demoday1`
    FOREIGN KEY (`dealDemodayId`)
    REFERENCES `tsb_v2`.`demoday_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_demoday_score_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`demoday_organization`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`demoday_organization` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`demoday_organization` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `demodayId` INT NOT NULL,
  `organizationId` INT NOT NULL,
  `status` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_demoday_organization_demoday1_idx` (`demodayId` ASC),
  INDEX `fk_demoday_organization_organization1_idx` (`organizationId` ASC),
  CONSTRAINT `fk_demoday_organization_demoday1`
    FOREIGN KEY (`demodayId`)
    REFERENCES `tsb_v2`.`demoday` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_demoday_organization_organization1`
    FOREIGN KEY (`organizationId`)
    REFERENCES `tsb_v2`.`organization` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_context`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_context` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_context` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourceCompanyId` INT NOT NULL,
  `type` INT NOT NULL,
  `content` TEXT NULL,
  `features` TEXT NULL,
  `confidence` FLOAT NULL,
  `createTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_context_source_company1_idx` (`sourceCompanyId` ASC),
  CONSTRAINT `fk_source_context_source_company1`
    FOREIGN KEY (`sourceCompanyId`)
    REFERENCES `tsb_v2`.`source_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_contact`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_contact` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_contact` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourceCompanyId` INT NOT NULL,
  `type` INT NOT NULL,
  `name` VARCHAR(100) NOT NULL,
  `phone` VARCHAR(100) NULL,
  `email` VARCHAR(100) NULL,
  `wechat` VARCHAR(100) NULL,
  `verify` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_contact_source_company1_idx` (`sourceCompanyId` ASC),
  CONSTRAINT `fk_source_contact_source_company1`
    FOREIGN KEY (`sourceCompanyId`)
    REFERENCES `tsb_v2`.`source_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`contact`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`contact` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`contact` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NOT NULL,
  `type` INT NOT NULL,
  `name` VARCHAR(100) NOT NULL,
  `phone` VARCHAR(100) NOT NULL,
  `email` VARCHAR(100) NOT NULL,
  `wechat` VARCHAR(100) NOT NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_contact_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_contact_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`coldcall_forward`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`coldcall_forward` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`coldcall_forward` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `coldcallId` INT NOT NULL,
  `fromUserId` INT NULL,
  `toUserId` INT NULL,
  `createTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_coldcall_forward_coldcall1_idx` (`coldcallId` ASC),
  CONSTRAINT `fk_coldcall_forward_coldcall1`
    FOREIGN KEY (`coldcallId`)
    REFERENCES `tsb_v2`.`coldcall` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`context_sector_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`context_sector_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`context_sector_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourceContextId` INT NULL,
  `sourceCompanyId` INT NULL,
  `sectorId` INT NULL,
  `sectorLevel` INT NULL,
  `verify` CHAR(1) NULL,
  `confidence` FLOAT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`company_scores`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`company_scores` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`company_scores` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NOT NULL,
  `type` INT NOT NULL,
  `score` FLOAT NULL DEFAULT 0,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_company_scores_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_company_scores_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`gongshang`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`gongshang` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`gongshang` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(200) NULL,
  `regCapital` VARCHAR(100) NULL,
  `industry` VARCHAR(100) NULL,
  `regInstitute` VARCHAR(100) NULL,
  `establishTime` DATETIME NULL,
  `base` VARCHAR(100) NULL,
  `regNumber` VARCHAR(100) NULL,
  `regStatus` VARCHAR(100) NULL,
  `fromTime` DATETIME NULL,
  `toTime` DATETIME NULL,
  `businessScope` TEXT NULL,
  `regLocation` VARCHAR(300) NULL,
  `companyOrgType` VARCHAR(100) NULL,
  `legalPersonId` VARCHAR(100) NULL,
  `legalPersonName` VARCHAR(100) NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `updateTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`collection`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`collection` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`collection` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(200) NULL,
  `description` TEXT NULL,
  `type` INT NULL,
  `subType` INT NULL,
  `sort` FLOAT NULL,
  `mark` CHAR(1) NULL COMMENT '',
  `rule` TEXT NULL,
  `ruleMd5` VARCHAR(32) NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` INT NULL,
  `processStatus` INT NULL,
  `isNew` CHAR(1) NOT NULL,
  `picture` VARCHAR(50) NULL,
  `wechatName` VARCHAR(200) NULL,
  `wechatDesc` TEXT NULL,
  `wechatPic` VARCHAR(50) NULL,
  `onlyForInvestor` CHAR(1) NULL,
  PRIMARY KEY (`id`, `isNew`),
  INDEX `idx_collection_rulemd5` (`ruleMd5` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`collection_company_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`collection_company_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`collection_company_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `collectionId` INT NOT NULL,
  `companyId` INT NOT NULL,
  `sort` FLOAT NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_set_company_rel_set1_idx` (`collectionId` ASC),
  INDEX `fk_set_company_rel_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_set_company_rel_set1`
    FOREIGN KEY (`collectionId`)
    REFERENCES `tsb_v2`.`collection` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_set_company_rel_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`collection_user_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`collection_user_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`collection_user_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `collectionId` INT NOT NULL,
  `userId` INT NOT NULL,
  `visitTime` TIMESTAMP NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_collection_user_rel_user1_idx` (`userId` ASC),
  INDEX `fk_collection_user_rel_collection1_idx` (`collectionId` ASC),
  CONSTRAINT `fk_collection_user_rel_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_collection_user_rel_collection1`
    FOREIGN KEY (`collectionId`)
    REFERENCES `tsb_v2`.`collection` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`collection_timeline`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`collection_timeline` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`collection_timeline` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NULL,
  `collectionCompanyId` INT NOT NULL,
  `time` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_collection-timeline_collection_company_rel1_idx` (`collectionCompanyId` ASC),
  CONSTRAINT `fk_collection-timeline_collection_company_rel1`
    FOREIGN KEY (`collectionCompanyId`)
    REFERENCES `tsb_v2`.`collection_company_rel` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`collection_rule`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`collection_rule` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`collection_rule` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `collectionId` INT NOT NULL,
  `ruleId` INT NULL,
  `type` INT NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_collection-rule_collection1_idx` (`collectionId` ASC),
  CONSTRAINT `fk_collection-rule_collection1`
    FOREIGN KEY (`collectionId`)
    REFERENCES `tsb_v2`.`collection` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`hot_tag`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`hot_tag` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`hot_tag` (
  `id` INT NOT NULL,
  `name` VARCHAR(100) NOT NULL,
  `sort` FLOAT NULL,
  `createTime` TIMESTAMP NULL,
  INDEX `fk_hot_tag_tag1_idx` (`id` ASC),
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_hot_tag_tag1`
    FOREIGN KEY (`id`)
    REFERENCES `tsb_v2`.`tag` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_company_score`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_company_score` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_company_score` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourceCompanyId` INT NOT NULL,
  `score` INT NULL,
  `verify` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_company_score_source_company1_idx` (`sourceCompanyId` ASC),
  CONSTRAINT `fk_source_company_score_source_company1`
    FOREIGN KEY (`sourceCompanyId`)
    REFERENCES `tsb_v2`.`source_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`demoday_note`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`demoday_note` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`demoday_note` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `demodayCompanyId` INT NOT NULL,
  `organizationId` INT NOT NULL,
  `userId` INT NOT NULL,
  `privilege` INT NULL DEFAULT 47020,
  `note` TEXT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_demoday_note_demoday_company1_idx` (`demodayCompanyId` ASC),
  INDEX `fk_demoday_note_organization1_idx` (`organizationId` ASC),
  INDEX `fk_demoday_note_user1_idx` (`userId` ASC),
  CONSTRAINT `fk_demoday_note_demoday_company1`
    FOREIGN KEY (`demodayCompanyId`)
    REFERENCES `tsb_v2`.`demoday_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_demoday_note_organization1`
    FOREIGN KEY (`organizationId`)
    REFERENCES `tsb_v2`.`organization` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_demoday_note_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_flow`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_flow` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_flow` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealId` INT NOT NULL,
  `status` INT NULL,
  `declineStatus` INT NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_log_deal1_idx` (`dealId` ASC),
  CONSTRAINT `fk_deal_log_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_funding`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_funding` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_funding` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealId` INT NOT NULL,
  `fundingDate` DATETIME NULL,
  `round` INT NULL,
  `roundDesc` VARCHAR(100) NULL,
  `preMoney` BIGINT NULL,
  `postMoney` BIGINT NULL,
  `investment` BIGINT NULL,
  `shareRatio` FLOAT NULL,
  `currency` INT NULL,
  `precise` CHAR(1) NULL,
  `totalInvestment` BIGINT NULL,
  `totalShareRatio` FLOAT NULL,
  `totalCurrency` INT NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `investor` VARCHAR(1000) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_funding_deal1_idx` (`dealId` ASC),
  CONSTRAINT `fk_deal_funding_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_note_message`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_note_message` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_note_message` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealNoteId` INT NOT NULL,
  `userId` INT NOT NULL,
  `visitTime` TIMESTAMP NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_note_message_deal_note1_idx` (`dealNoteId` ASC),
  INDEX `fk_deal_note_message_user1_idx` (`userId` ASC),
  CONSTRAINT `fk_deal_note_message_deal_note1`
    FOREIGN KEY (`dealNoteId`)
    REFERENCES `tsb_v2`.`deal_note` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_deal_note_message_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`iom_other_note`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`iom_other_note` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`iom_other_note` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NOT NULL,
  `note` TEXT NULL,
  `fromDate` DATETIME NULL,
  `toDate` DATETIME NULL,
  `iom` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_iom_other_note_user1_idx` (`userId` ASC),
  CONSTRAINT `fk_iom_other_note_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`investor_company_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`investor_company_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`investor_company_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `investorId` INT NOT NULL,
  `companyId` INT NOT NULL,
  `type` INT NOT NULL,
  `sort` FLOAT NOT NULL,
  `createTime` TIMESTAMP NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_investor_company_rel_investor1_idx` (`investorId` ASC),
  INDEX `fk_investor_company_rel_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_investor_company_rel_investor1`
    FOREIGN KEY (`investorId`)
    REFERENCES `tsb_v2`.`investor` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_investor_company_rel_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`investor_chart`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`investor_chart` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`investor_chart` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `investorId` INT NOT NULL,
  `type` INT NOT NULL,
  `file` VARCHAR(100) NOT NULL,
  `createTime` TIMESTAMP NOT NULL,
  `modifyTime` TIMESTAMP NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_investor_chart_investor1_idx` (`investorId` ASC),
  CONSTRAINT `fk_investor_chart_investor1`
    FOREIGN KEY (`investorId`)
    REFERENCES `tsb_v2`.`investor` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_company_name`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_company_name` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_company_name` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourceCompanyId` INT NOT NULL,
  `type` INT NULL,
  `name` VARCHAR(1000) NOT NULL,
  `verify` CHAR(1) NULL,
  `chinese` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `extended` CHAR(1) NULL,
  `expanded` CHAR(1) NULL,
  `diffResult` INT NULL,
  `diffPosition` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_company_fullname_source_company1_idx` (`sourceCompanyId` ASC),
  CONSTRAINT `fk_source_company_fullname_source_company1`
    FOREIGN KEY (`sourceCompanyId`)
    REFERENCES `tsb_v2`.`source_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`android`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`android` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`android` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `link` VARCHAR(200) NULL,
  `apkname` VARCHAR(100) NULL,
  `appmarket` INT NULL,
  `name` VARCHAR(100) NULL,
  `breif` VARCHAR(200) NULL,
  `author` VARCHAR(45) NULL,
  `website` VARCHAR(200) NULL,
  `description` TEXT NULL,
  `commentbyedtor` VARCHAR(1000) NULL,
  `updateDate` DATETIME NULL,
  `language` VARCHAR(100) NULL,
  `icon` INT NULL,
  `tags` VARCHAR(200) NULL,
  `version` VARCHAR(45) NULL,
  `updates` TEXT NULL,
  `size` INT NULL,
  `compatibility` VARCHAR(200) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`android_market`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`android_market` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`android_market` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `androidId` INT NOT NULL,
  `link` VARCHAR(200) NULL,
  `apkname` VARCHAR(100) NULL,
  `appmarket` INT NULL,
  `name` VARCHAR(100) NULL,
  `breif` VARCHAR(200) NULL,
  `author` VARCHAR(45) NULL,
  `website` VARCHAR(200) NULL,
  `description` TEXT NULL,
  `commentbyedtor` VARCHAR(1000) NULL,
  `updateDate` DATETIME NULL,
  `language` VARCHAR(100) NULL,
  `icon` INT NULL,
  `tags` VARCHAR(200) NULL,
  `version` VARCHAR(45) NULL,
  `updates` TEXT NULL,
  `size` INT NULL,
  `compatibility` VARCHAR(200) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_android_market_android1_idx` (`androidId` ASC),
  CONSTRAINT `fk_android_market_android1`
    FOREIGN KEY (`androidId`)
    REFERENCES `tsb_v2`.`android` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`itunes`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`itunes` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`itunes` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `appId` VARCHAR(50) NULL,
  `name` VARCHAR(100) NULL,
  `brief` VARCHAR(1000) NULL,
  `link` VARCHAR(200) NULL,
  `seller` VARCHAR(100) NULL,
  `producer` VARCHAR(200) NULL,
  `logo` VARCHAR(200) NULL,
  `description` TEXT NULL,
  `updateDate` DATETIME NULL,
  `language` VARCHAR(100) NULL,
  `field` VARCHAR(200) NULL,
  `version` VARCHAR(45) NULL,
  `updates` TEXT NULL,
  `size` INT NULL,
  `compatibility` VARCHAR(200) NULL,
  `applewatch` VARCHAR(1) NULL,
  `website` VARCHAR(200) NULL,
  `websitesupport` VARCHAR(200) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`website`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`website` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`website` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `url` VARCHAR(200) NOT NULL,
  `redirectUrl` VARCHAR(200) NULL,
  `domain` VARCHAR(200) NOT NULL,
  `title` VARCHAR(1000) NULL,
  `tags` VARCHAR(1000) NULL,
  `description` TEXT NULL,
  `screenshot` VARCHAR(100) NULL,
  `httpcode` INT NULL,
  `verify` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`itunes_picture`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`itunes_picture` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`itunes_picture` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `ItunesId` INT NOT NULL,
  `type` INT NULL,
  `sort` INT NULL,
  `link` VARCHAR(500) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_artifact_itunes_picture_source_artifact_itunes1_idx` (`ItunesId` ASC),
  CONSTRAINT `fk_source_artifact_itunes_picture_source_artifact_itunes1`
    FOREIGN KEY (`ItunesId`)
    REFERENCES `tsb_v2`.`itunes` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`android_picture`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`android_picture` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`android_picture` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `androidId` INT NOT NULL,
  `type` INT NULL,
  `sort` INT NULL,
  `link` VARCHAR(500) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_artifact_android_picture_source_artifact_android1_idx` (`androidId` ASC),
  CONSTRAINT `fk_source_artifact_android_picture_source_artifact_android1`
    FOREIGN KEY (`androidId`)
    REFERENCES `tsb_v2`.`android_market` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`gongshang_member`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`gongshang_member` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`gongshang_member` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `gongshangBaseId` INT NOT NULL,
  `type` INT NULL,
  `name` VARCHAR(20) NULL,
  `position` VARCHAR(45) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_gongshang_member_gongshang_base1_idx` (`gongshangBaseId` ASC),
  CONSTRAINT `fk_gongshang_member_gongshang_base1`
    FOREIGN KEY (`gongshangBaseId`)
    REFERENCES `tsb_v2`.`gongshang` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`gongshang_investor`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`gongshang_investor` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`gongshang_investor` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `gongshangBaseId` INT NOT NULL,
  `type` INT NULL,
  `name` VARCHAR(100) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_gongshang_investor_gongshang_base1_idx` (`gongshangBaseId` ASC),
  CONSTRAINT `fk_gongshang_investor_gongshang_base1`
    FOREIGN KEY (`gongshangBaseId`)
    REFERENCES `tsb_v2`.`gongshang` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`gongshang_change`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`gongshang_change` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`gongshang_change` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `gongshangBaseId` INT NOT NULL,
  `changItem` VARCHAR(200) NULL,
  `contentbefore` TEXT NULL,
  `contentAfter` TEXT NULL,
  `changeTime` DATETIME NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_gongshang_change_gongshang_base1_idx` (`gongshangBaseId` ASC),
  CONSTRAINT `fk_source_gongshang_change_gongshang_base1`
    FOREIGN KEY (`gongshangBaseId`)
    REFERENCES `tsb_v2`.`gongshang` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_artifact_android_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_artifact_android_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_artifact_android_rel` (
  `id` INT NOT NULL,
  `sourceArtifactId` INT NOT NULL,
  `androidId` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_artifact_android_rel_source_artifact1_idx` (`sourceArtifactId` ASC),
  INDEX `fk_source_artifact_android_rel_android1_idx` (`androidId` ASC),
  CONSTRAINT `fk_source_artifact_android_rel_source_artifact1`
    FOREIGN KEY (`sourceArtifactId`)
    REFERENCES `tsb_v2`.`source_artifact` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_source_artifact_android_rel_android1`
    FOREIGN KEY (`androidId`)
    REFERENCES `tsb_v2`.`android` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_artifact_itunes_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_artifact_itunes_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_artifact_itunes_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `itunesId` INT NOT NULL,
  `sourceArtifactId` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_artifact_itunes_rel_itunes1_idx` (`itunesId` ASC),
  INDEX `fk_source_artifact_itunes_rel_source_artifact1_idx` (`sourceArtifactId` ASC),
  CONSTRAINT `fk_source_artifact_itunes_rel_itunes1`
    FOREIGN KEY (`itunesId`)
    REFERENCES `tsb_v2`.`itunes` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_source_artifact_itunes_rel_source_artifact1`
    FOREIGN KEY (`sourceArtifactId`)
    REFERENCES `tsb_v2`.`source_artifact` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_artifact_website_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_artifact_website_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_artifact_website_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourceArtifactId` INT NOT NULL,
  `websiteId` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_artifact_website_rel_source_artifact1_idx` (`sourceArtifactId` ASC),
  INDEX `fk_source_artifact_website_rel_website1_idx` (`websiteId` ASC),
  CONSTRAINT `fk_source_artifact_website_rel_source_artifact1`
    FOREIGN KEY (`sourceArtifactId`)
    REFERENCES `tsb_v2`.`source_artifact` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_source_artifact_website_rel_website1`
    FOREIGN KEY (`websiteId`)
    REFERENCES `tsb_v2`.`website` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`itunes_history`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`itunes_history` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`itunes_history` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `itunesId` INT NOT NULL,
  `appId` VARCHAR(50) NULL,
  `name` VARCHAR(100) NULL,
  `brief` VARCHAR(1000) NULL,
  `link` VARCHAR(200) NULL,
  `seller` VARCHAR(100) NULL,
  `producer` VARCHAR(200) NULL,
  `logo` VARCHAR(200) NULL,
  `description` TEXT NULL,
  `updateDate` DATETIME NULL,
  `language` VARCHAR(100) NULL,
  `field` VARCHAR(200) NULL,
  `version` VARCHAR(45) NULL,
  `updates` TEXT NULL,
  `size` INT NULL,
  `compatibility` VARCHAR(200) NULL,
  `applewatch` VARCHAR(1) NULL,
  `website` VARCHAR(200) NULL,
  `websitesupport` VARCHAR(200) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_itunes_history_itunes1_idx` (`itunesId` ASC),
  CONSTRAINT `fk_itunes_history_itunes1`
    FOREIGN KEY (`itunesId`)
    REFERENCES `tsb_v2`.`itunes` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`itunes_picture_history`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`itunes_picture_history` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`itunes_picture_history` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `itunesHistoryId` INT NOT NULL,
  `type` INT NULL,
  `sort` INT NULL,
  `link` VARCHAR(500) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_tunes_picture_history_itunes_history1_idx` (`itunesHistoryId` ASC),
  CONSTRAINT `fk_tunes_picture_history_itunes_history1`
    FOREIGN KEY (`itunesHistoryId`)
    REFERENCES `tsb_v2`.`itunes_history` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`android_history`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`android_history` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`android_history` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `androidId` INT NOT NULL,
  `link` VARCHAR(200) NULL,
  `apkname` VARCHAR(100) NULL,
  `appmarket` INT NULL,
  `name` VARCHAR(100) NULL,
  `breif` VARCHAR(200) NULL,
  `company` VARCHAR(45) NULL,
  `website` VARCHAR(200) NULL,
  `description` TEXT NULL,
  `commentbyedtor` VARCHAR(1000) NULL,
  `updateDate` DATETIME NULL,
  `language` VARCHAR(100) NULL,
  `tags` VARCHAR(200) NULL,
  `version` VARCHAR(45) NULL,
  `updates` TEXT NULL,
  `size` INT NULL,
  `compatibility` VARCHAR(200) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_android_history_android1_idx` (`androidId` ASC),
  CONSTRAINT `fk_android_history_android1`
    FOREIGN KEY (`androidId`)
    REFERENCES `tsb_v2`.`android_market` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`android_picture_history`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`android_picture_history` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`android_picture_history` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `androidHistoryId` INT NOT NULL,
  `type` INT NULL,
  `sort` INT NULL,
  `link` VARCHAR(500) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_android_picture_history_android_history1_idx` (`androidHistoryId` ASC),
  CONSTRAINT `fk_android_picture_history_android_history1`
    FOREIGN KEY (`androidHistoryId`)
    REFERENCES `tsb_v2`.`android_history` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_company_gongshang_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_company_gongshang_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_company_gongshang_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourceCompanyId` INT NOT NULL,
  `gongshangBaseId` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_company_gongshang_rel_source_company1_idx` (`sourceCompanyId` ASC),
  INDEX `fk_source_company_gongshang_rel_gongshang_base1_idx` (`gongshangBaseId` ASC),
  CONSTRAINT `fk_source_company_gongshang_rel_source_company1`
    FOREIGN KEY (`sourceCompanyId`)
    REFERENCES `tsb_v2`.`source_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_source_company_gongshang_rel_gongshang_base1`
    FOREIGN KEY (`gongshangBaseId`)
    REFERENCES `tsb_v2`.`gongshang` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`beian`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`beian` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`beian` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `domain` VARCHAR(100) NULL,
  `organizer` VARCHAR(200) NULL,
  `organizerType` VARCHAR(20) NULL,
  `beianhao` VARCHAR(100) NULL,
  `mainBeianhao` VARCHAR(100) NULL,
  `websiteName` VARCHAR(200) NULL,
  `homepage` VARCHAR(500) NULL,
  `beianDate` DATETIME NULL,
  `expire` CHAR(1) NULL DEFAULT 'N',
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`),
  INDEX `idx_domain_domain` (`domain` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`fund`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`fund` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`fund` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `organizationId` INT NOT NULL,
  `name` VARCHAR(45) NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_fund_organization1_idx` (`organizationId` ASC),
  CONSTRAINT `fk_fund_organization1`
    FOREIGN KEY (`organizationId`)
    REFERENCES `tsb_v2`.`organization` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_investment`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_investment` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_investment` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealId` INT NOT NULL,
  `fundId` INT NOT NULL,
  `date` DATETIME NULL,
  `round` INT NULL,
  `totalInvestment` VARCHAR(45) NULL,
  `fundInvestment` VARCHAR(45) NULL,
  `currency` INT NULL,
  `shareRatio` FLOAT NULL,
  `postMoney` VARCHAR(45) NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_investment_fund1_idx` (`fundId` ASC),
  INDEX `fk_deal_investment_deal1_idx` (`dealId` ASC),
  CONSTRAINT `fk_deal_investment_fund1`
    FOREIGN KEY (`fundId`)
    REFERENCES `tsb_v2`.`fund` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_deal_investment_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_investment_process`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_investment_process` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_investment_process` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealId` INT NOT NULL,
  `orgName` VARCHAR(45) NULL,
  `TSDate` DATETIME NULL,
  `SPADate` DATETIME NULL,
  `round` INT NULL,
  `planInvestment` VARCHAR(45) NULL,
  `orgInvestment` VARCHAR(45) NULL,
  `currency` INT NULL,
  `shareRatio` FLOAT NULL,
  `postMoney` VARCHAR(45) NULL,
  `status` INT NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_investment_process_deal1_idx` (`dealId` ASC),
  CONSTRAINT `fk_deal_investment_process_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_cap_table`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_cap_table` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_cap_table` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealId` INT NOT NULL,
  `round` INT NULL,
  `shareholder` VARCHAR(200) NULL,
  `registerAmount` VARCHAR(45) NULL,
  `shareRatio` FLOAT NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_cap_table_deal1_idx` (`dealId` ASC),
  CONSTRAINT `fk_deal_cap_table_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_finance`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_finance` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_finance` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealId` INT NOT NULL,
  `startDate` DATETIME NULL,
  `endDate` DATETIME NULL,
  `revenue` VARCHAR(45) NULL,
  `revenueRatio` VARCHAR(45) NULL,
  `expense` VARCHAR(45) NULL,
  `expenseRatio` VARCHAR(45) NULL,
  `profit` VARCHAR(45) NULL,
  `profitRatio` VARCHAR(45) NULL,
  `surplus` VARCHAR(45) NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  `expand` TEXT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_finance_deal1_idx` (`dealId` ASC),
  CONSTRAINT `fk_deal_finance_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_finance_expand`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_finance_expand` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_finance_expand` (
  `id` BIGINT NOT NULL AUTO_INCREMENT,
  `dealId` INT NOT NULL,
  `name` VARCHAR(45) NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_finance_expand_deal1_idx` (`dealId` ASC),
  CONSTRAINT `fk_deal_finance_expand_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_artifact_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_artifact_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_artifact_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealId` INT NOT NULL,
  `artifactId` INT NOT NULL,
  `follow` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_artifact_rel_deal1_idx` (`dealId` ASC),
  INDEX `fk_deal_artifact_rel_artifact1_idx` (`artifactId` ASC),
  CONSTRAINT `fk_deal_artifact_rel_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_deal_artifact_rel_artifact1`
    FOREIGN KEY (`artifactId`)
    REFERENCES `tsb_v2`.`artifact` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_business`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_business` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_business` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealId` INT NOT NULL,
  `startDate` DATETIME NULL,
  `endDate` DATETIME NULL,
  `title` VARCHAR(200) NULL,
  `progress` TEXT NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  `expand` TEXT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_business_deal1_idx` (`dealId` ASC),
  CONSTRAINT `fk_deal_business_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_business_expand`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_business_expand` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_business_expand` (
  `id` BIGINT NOT NULL AUTO_INCREMENT,
  `dealId` INT NOT NULL,
  `name` VARCHAR(200) NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL COMMENT '	',
  `createTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_business_expand_deal1_idx` (`dealId` ASC),
  CONSTRAINT `fk_deal_business_expand_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_comps`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_comps` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_comps` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealId` INT NOT NULL,
  `companyId` INT NULL,
  `sort` INT NULL,
  `status` INT NULL,
  `type` INT NULL,
  `establishDate` DATETIME NULL,
  `locationId` INT NULL,
  `round` INT NULL,
  `currency` INT NULL,
  `investment` VARCHAR(45) NULL,
  `investor` VARCHAR(200) NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  `expand` TEXT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_comps_deal1_idx` (`dealId` ASC),
  CONSTRAINT `fk_deal_comps_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_file`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_file` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_file` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealId` INT NOT NULL,
  `name` VARCHAR(500) NULL,
  `fileId` VARCHAR(500) NULL,
  `type` INT NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_file_deal1_idx` (`dealId` ASC),
  CONSTRAINT `fk_deal_file_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`alarm`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`alarm` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`alarm` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealId` INT NULL,
  `alarmTime` TIMESTAMP NULL,
  `content` TEXT NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_alarm_deal1_idx` (`dealId` ASC),
  CONSTRAINT `fk_alarm_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source_mainbeianhao`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source_mainbeianhao` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source_mainbeianhao` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourceCompanyId` INT NOT NULL,
  `mainBeianhao` VARCHAR(100) NULL,
  `verify` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `expanded` CHAR(1) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_source_mainbeianhao_source_company1_idx` (`sourceCompanyId` ASC),
  CONSTRAINT `fk_source_mainbeianhao_source_company1`
    FOREIGN KEY (`sourceCompanyId`)
    REFERENCES `tsb_v2`.`source_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`main_beianhao`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`main_beianhao` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`main_beianhao` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `mainBeianhao` VARCHAR(100) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_comps_expand`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_comps_expand` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_comps_expand` (
  `id` BIGINT NOT NULL,
  `dealId` INT NOT NULL,
  `name` VARCHAR(200) NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL COMMENT '	',
  `createTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_business_expand_deal1_idx` (`dealId` ASC),
  CONSTRAINT `fk_deal_business_expand_deal10`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`mylist`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`mylist` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`mylist` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(200) NULL,
  `isPublic` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`user_mylist_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`user_mylist_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`user_mylist_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NOT NULL,
  `mylistId` INT NOT NULL,
  `createTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  INDEX `fk_user_list_rel_user1_idx` (`userId` ASC),
  PRIMARY KEY (`id`),
  INDEX `fk_user_list_rel_list1_idx` (`mylistId` ASC),
  CONSTRAINT `fk_user_list_rel_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_user_list_rel_list1`
    FOREIGN KEY (`mylistId`)
    REFERENCES `tsb_v2`.`mylist` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`mylist_company_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`mylist_company_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`mylist_company_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `mylistId` INT NOT NULL,
  `companyId` INT NOT NULL,
  `createTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_mylist_company_rel_mylist1_idx` (`mylistId` ASC),
  INDEX `fk_mylist_company_rel_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_mylist_company_rel_mylist1`
    FOREIGN KEY (`mylistId`)
    REFERENCES `tsb_v2`.`mylist` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_mylist_company_rel_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`registration`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`registration` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`registration` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(100) NULL,
  `company` VARCHAR(500) NULL,
  `position` INT NULL,
  `email` VARCHAR(100) NULL,
  `mobile` VARCHAR(20) NULL,
  `createTime` TIMESTAMP NULL,
  `proceed` CHAR(1) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`test_company`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`test_company` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`test_company` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `code` VARCHAR(45) NULL,
  `name` VARCHAR(1000) NULL,
  `fullName` VARCHAR(200) NULL,
  `brief` VARCHAR(200) NULL,
  `description` TEXT NULL,
  `productDesc` TEXT NULL,
  `modelDesc` TEXT NULL,
  `operationDesc` TEXT NULL,
  `teamDesc` TEXT NULL,
  `marketDesc` TEXT NULL,
  `compititorDesc` TEXT NULL,
  `advantageDesc` TEXT NULL,
  `planDesc` TEXT NULL,
  `round` INT(8) NULL,
  `roundDesc` VARCHAR(45) NULL,
  `companyStatus` INT(8) NULL,
  `fundingType` INT(8) NULL,
  `currentRound` INT NULL,
  `currentRoundDesc` VARCHAR(45) NULL,
  `preMoney` BIGINT NULL,
  `investment` BIGINT NULL,
  `postMoney` BIGINT NULL,
  `shareRatio` FLOAT NULL,
  `currency` INT(8) NULL,
  `headCountMin` INT NULL,
  `headCountMax` INT NULL,
  `locationId` INT(8) NULL,
  `address` VARCHAR(200) NULL,
  `phone` VARCHAR(200) NULL,
  `establishDate` DATETIME NULL,
  `logo` VARCHAR(200) NULL,
  `type` INT NULL DEFAULT 41010,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`),
  INDEX `code` (`code` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`test_company_alias`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`test_company_alias` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`test_company_alias` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NOT NULL,
  `name` VARCHAR(200) NULL,
  `type` INT(8) NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  `gongchangCheckTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_test_company_alias_test_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_test_company_alias_test_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`test_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`test_artifact`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`test_artifact` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`test_artifact` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NOT NULL,
  `name` VARCHAR(1000) NULL,
  `description` TEXT NULL,
  `link` VARCHAR(200) NULL,
  `domain` VARCHAR(200) NULL,
  `alexa` CHAR(1) NULL,
  `type` INT(8) NOT NULL,
  `productId` INT NULL,
  `tags` VARCHAR(200) NULL,
  `others` TEXT NULL,
  `rank` INT NULL DEFAULT 0,
  `nameIndex` INT NULL,
  `nameIndexTime` TIMESTAMP NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  `recommend` CHAR(1) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_product_company0_idx` (`companyId` ASC),
  CONSTRAINT `fk_product_company0`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`test_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`test_funding`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`test_funding` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`test_funding` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NOT NULL,
  `preMoney` BIGINT NULL,
  `postMoney` BIGINT NULL,
  `investment` BIGINT NULL,
  `shareRatio` FLOAT NULL,
  `round` INT(8) NULL,
  `roundDesc` VARCHAR(45) NULL,
  `currency` INT(8) NULL,
  `precise` CHAR(1) NULL,
  `fundingDate` DATETIME NULL,
  `fundingType` INT(8) NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_funding_company10_idx` (`companyId` ASC),
  CONSTRAINT `fk_funding_company10`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`test_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`test_funding_investor_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`test_funding_investor_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`test_funding_investor_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `fundingId` INT NOT NULL,
  `investorType` INT NOT NULL DEFAULT 38001,
  `investorId` INT NULL,
  `companyId` INT NULL,
  `currency` INT(8) NULL,
  `investment` BIGINT NULL,
  `precise` CHAR(1) NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_funding_investor_rel_funding10_idx` (`fundingId` ASC),
  INDEX `fk_funding_investor_rel_company10_idx` (`companyId` ASC),
  INDEX `fk_test_funding_investor_rel_investor1_idx` (`investorId` ASC),
  CONSTRAINT `fk_funding_investor_rel_funding10`
    FOREIGN KEY (`fundingId`)
    REFERENCES `tsb_v2`.`test_funding` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_funding_investor_rel_company10`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`test_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_test_funding_investor_rel_investor1`
    FOREIGN KEY (`investorId`)
    REFERENCES `tsb_v2`.`investor` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`test_member`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`test_member` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`test_member` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(100) NULL,
  `education` TEXT NULL,
  `workEmphasis` TEXT NULL,
  `work` TEXT NULL,
  `description` TEXT NULL,
  `photo` VARCHAR(200) NULL,
  `email` VARCHAR(100) NULL,
  `phone` VARCHAR(20) NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`test_company_member_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`test_company_member_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`test_company_member_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NOT NULL,
  `memberId` INT NOT NULL,
  `position` VARCHAR(100) NULL,
  `joinDate` DATETIME NULL,
  `leaveDate` DATETIME NULL,
  `type` INT(8) NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_company_member_rel_company10_idx` (`companyId` ASC),
  INDEX `fk_company_member_rel_member10_idx` (`memberId` ASC),
  CONSTRAINT `fk_company_member_rel_company10`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`test_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_company_member_rel_member10`
    FOREIGN KEY (`memberId`)
    REFERENCES `tsb_v2`.`test_member` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`source`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`source` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`source` (
)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_tag`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_tag` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_tag` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NULL,
  `type` INT NULL,
  `weight` FLOAT NULL,
  `novelty` FLOAT NULL,
  `hot` CHAR(1) NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`),
  UNIQUE INDEX `deal_tag_un_name` (`name` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_tag_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_tag_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_tag_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealId` INT NOT NULL,
  `dealTagId` INT NOT NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_tag_rel_deal1_idx` (`dealId` ASC),
  INDEX `fk_deal_tag_rel_deal_tag1_idx` (`dealTagId` ASC),
  CONSTRAINT `fk_deal_tag_rel_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_deal_tag_rel_deal_tag1`
    FOREIGN KEY (`dealTagId`)
    REFERENCES `tsb_v2`.`deal_tag` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_artifact_new`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_artifact_new` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_artifact_new` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealId` INT NOT NULL,
  `name` VARCHAR(1000) NULL,
  `description` TEXT NULL,
  `link` VARCHAR(500) NULL,
  `type` INT NULL,
  `proceed` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `verify` CHAR(1) NULL,
  `sourceArtifactId` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_artifact_new_deal1_idx` (`dealId` ASC),
  CONSTRAINT `fk_deal_artifact_new_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_member`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_member` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_member` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealId` INT NOT NULL,
  `name` VARCHAR(100) NULL,
  `position` VARCHAR(100) NULL,
  `education` TEXT NULL,
  `workEmphasis` TEXT NULL,
  `work` TEXT NULL,
  `description` TEXT NULL,
  `photo` VARCHAR(200) NULL,
  `email` VARCHAR(200) NULL,
  `phone` VARCHAR(20) NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_member_deal1_idx` (`dealId` ASC),
  CONSTRAINT `fk_deal_member_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`audit_source_company`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`audit_source_company` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`audit_source_company` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `source_company_id` INT NOT NULL,
  `createTime` TIMESTAMP NULL,
  `taker` INT NULL,
  `takeTime` TIMESTAMP NULL,
  `processStatus` CHAR(1) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_audit_source_company_source_company1_idx` (`source_company_id` ASC),
  INDEX `idx_audit_source_company_1` (`processStatus` ASC, `taker` ASC, `createTime` ASC),
  CONSTRAINT `fk_audit_source_company_source_company1`
    FOREIGN KEY (`source_company_id`)
    REFERENCES `tsb_v2`.`source_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`news_domain`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`news_domain` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`news_domain` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `domain` VARCHAR(200) NOT NULL,
  `name` VARCHAR(200) NOT NULL,
  `important` CHAR(1) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`company_fa`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`company_fa` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`company_fa` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NULL,
  `newsId` VARCHAR(100) NULL,
  `bp_name` VARCHAR(500) NULL,
  `bp_link` VARCHAR(50) NULL,
  `source` INT NOT NULL,
  `sourceId` VARCHAR(100) NULL,
  `publishDate` DATETIME NOT NULL,
  `round` INT NULL,
  `currency` INT NULL,
  `investmentMin` INT NULL,
  `investmentMax` INT NULL,
  `shareRatioMin` FLOAT NULL,
  `shareRatioMax` FLOAT NULL,
  `advantageDesc` TEXT NULL COMMENT '',
  `marketDesc` TEXT NULL COMMENT '',
  `productDesc` TEXT NULL COMMENT '',
  `operationDesc` TEXT NULL COMMENT '',
  `modelDesc` TEXT NULL COMMENT '',
  `planDesc` TEXT NULL COMMENT '',
  `founder` VARCHAR(100) NULL,
  `founderDesc` TEXT NULL,
  `createTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `active` CHAR(1) NULL,
  `field` VARCHAR(100) NULL,
  `investmentHistory` VARCHAR(500) NULL,
  `investorHistory` VARCHAR(500) NULL,
  `processStatus` INT NOT NULL DEFAULT 0,
  `name` VARCHAR(200) NULL,
  `eventName` VARCHAR(200) NULL,
  `eventResult` TEXT NULL,
  `endDate` DATETIME NULL,
  `auditor` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_company_fa_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_company_fa_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`fa_advisor`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`fa_advisor` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`fa_advisor` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `source` INT NULL,
  `name` VARCHAR(100) NULL,
  `phone` VARCHAR(100) NULL,
  `wechat` VARCHAR(100) NULL,
  `email` VARCHAR(100) NULL,
  `createTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `active` CHAR(1) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`company_fa_advisor_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`company_fa_advisor_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`company_fa_advisor_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyFaId` INT NOT NULL,
  `faAdvisorId` INT NOT NULL,
  `createTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `active` CHAR(1) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_comany_fa_advisor_rel_company_fa1_idx` (`companyFaId` ASC),
  INDEX `fk_comany_fa_advisor_rel_fa_advisor1_idx` (`faAdvisorId` ASC),
  CONSTRAINT `fk_comany_fa_advisor_rel_company_fa1`
    FOREIGN KEY (`companyFaId`)
    REFERENCES `tsb_v2`.`company_fa` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_comany_fa_advisor_rel_fa_advisor1`
    FOREIGN KEY (`faAdvisorId`)
    REFERENCES `tsb_v2`.`fa_advisor` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`special_tag`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`special_tag` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`special_tag` (
  `id` INT NOT NULL,
  `name` VARCHAR(100) NOT NULL,
  `sort` FLOAT NULL,
  `createTime` TIMESTAMP NULL,
  INDEX `fk_hot_tag_tag1_idx` (`id` ASC),
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_hot_tag_tag10`
    FOREIGN KEY (`id`)
    REFERENCES `tsb_v2`.`tag` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`welcome`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`welcome` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`welcome` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `content` TEXT NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`hot_search`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`hot_search` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`hot_search` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(200) NOT NULL,
  `createTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`company_fa_candidate`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`company_fa_candidate` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`company_fa_candidate` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyFaId` INT NOT NULL,
  `companyId` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_company_fa_candidate_company_fa1_idx` (`companyFaId` ASC),
  INDEX `fk_company_fa_candidate_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_company_fa_candidate_company_fa1`
    FOREIGN KEY (`companyFaId`)
    REFERENCES `tsb_v2`.`company_fa` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_company_fa_candidate_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`company_fa_news_candidate`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`company_fa_news_candidate` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`company_fa_news_candidate` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyFaId` INT NOT NULL,
  `newsId` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_company_fa_news_candidate_company_fa1_idx` (`companyFaId` ASC),
  CONSTRAINT `fk_company_fa_news_candidate_company_fa1`
    FOREIGN KEY (`companyFaId`)
    REFERENCES `tsb_v2`.`company_fa` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`audit_reaggregate_company`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`audit_reaggregate_company` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`audit_reaggregate_company` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `type` INT NULL COMMENT '1.merge -1.split',
  `beforeProcess` TEXT NULL,
  `afterProcess` TEXT NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `processStatus` INT NULL COMMENT '-1. deny 0.init 1.should 2.done',
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`comps`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`comps` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`comps` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(100) NOT NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `processStatus` INT NULL DEFAULT 0 COMMENT '0. edit 1.should 2.done',
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`comps_company_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`comps_company_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`comps_company_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `compsId` INT NOT NULL,
  `companyId` INT NOT NULL,
  `sort` INT NULL,
  `createTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_comps_company_rel_comps1_idx` (`compsId` ASC),
  INDEX `fk_comps_company_rel_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_comps_company_rel_comps1`
    FOREIGN KEY (`compsId`)
    REFERENCES `tsb_v2`.`comps` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_comps_company_rel_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`audit_reaggregate_investor`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`audit_reaggregate_investor` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`audit_reaggregate_investor` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `type` INT NULL COMMENT '1.merge -1.split',
  `beforeProcess` TEXT NULL,
  `afterProcess` TEXT NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `processStatus` INT NULL COMMENT '-1. deny 0.init 1.should 2.done',
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`stat_fund`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`stat_fund` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`stat_fund` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `type` INT NOT NULL COMMENT '1. month 2. quarter 3. year 0. special',
  `startDate` DATETIME NULL,
  `endDate` DATETIME NULL,
  `name` VARCHAR(100) NULL,
  `newDealCnt` INT NULL,
  `activeDealCnt` INT NULL,
  `tsCnt` INT NULL,
  `ddCnt` INT NULL,
  `portfolioCnt` INT NULL,
  `declinedCnt` INT NULL,
  `declinedFundingCnt` INT NULL,
  `createTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `processStatus` INT NULL,
  `organizationId` INT NOT NULL,
  `sourceDealCnt` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_stat_fund_organization1_idx` (`organizationId` ASC),
  CONSTRAINT `fk_stat_fund_organization1`
    FOREIGN KEY (`organizationId`)
    REFERENCES `tsb_v2`.`organization` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`stat_fund_figure`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`stat_fund_figure` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`stat_fund_figure` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `statFundId` INT NOT NULL,
  `status` INT NULL,
  `name` VARCHAR(100) NULL,
  `cnt` INT NULL,
  `percentage` FLOAT NULL,
  `createTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_stat_fund_figure_stat_fund1_idx` (`statFundId` ASC),
  CONSTRAINT `fk_stat_fund_figure_stat_fund1`
    FOREIGN KEY (`statFundId`)
    REFERENCES `tsb_v2`.`stat_fund` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`stat_staff`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`stat_staff` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`stat_staff` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `type` INT NOT NULL COMMENT '1. month 2. quarter 3. year 0. special',
  `startDate` DATETIME NULL,
  `endDate` DATETIME NULL,
  `name` VARCHAR(100) NULL,
  `newDealCnt` INT NULL,
  `activeDealCnt` INT NULL,
  `tsCnt` INT NULL,
  `ddCnt` INT NULL,
  `portfolioCnt` INT NULL,
  `declinedCnt` INT NULL,
  `declinedFundingCnt` INT NULL,
  `createTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `processStatus` INT NULL,
  `organizationId` INT NOT NULL,
  `userId` INT NOT NULL,
  `sourceDealCnt` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_stat_fund_organization1_idx` (`organizationId` ASC),
  INDEX `fk_stat_staff_user1_idx` (`userId` ASC),
  CONSTRAINT `fk_stat_fund_organization10`
    FOREIGN KEY (`organizationId`)
    REFERENCES `tsb_v2`.`organization` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_stat_staff_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`iom_deal_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`iom_deal_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`iom_deal_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealId` INT NOT NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `organizationId` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_iom_deal_rel_deal1_idx` (`dealId` ASC),
  INDEX `fk_iom_deal_rel_organization1_idx` (`organizationId` ASC),
  CONSTRAINT `fk_iom_deal_rel_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_iom_deal_rel_organization1`
    FOREIGN KEY (`organizationId`)
    REFERENCES `tsb_v2`.`organization` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`deal_assignee`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`deal_assignee` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`deal_assignee` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealId` INT NOT NULL,
  `userId` INT NOT NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_deal_assignee_deal1_idx` (`dealId` ASC),
  INDEX `fk_deal_assignee_user1_idx` (`userId` ASC),
  CONSTRAINT `fk_deal_assignee_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_deal_assignee_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`user_deal_panel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`user_deal_panel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`user_deal_panel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealId` INT NOT NULL,
  `userId` INT NOT NULL,
  `sort` FLOAT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `orgId` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_user_deal_panel_deal1_idx` (`dealId` ASC),
  INDEX `fk_user_deal_panel_user1_idx` (`userId` ASC),
  CONSTRAINT `fk_user_deal_panel_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_user_deal_panel_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`investor_alias`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`investor_alias` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`investor_alias` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `investorId` INT NOT NULL,
  `name` VARCHAR(200) NULL,
  `type` INT NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_investor_alias_investor1_idx` (`investorId` ASC),
  CONSTRAINT `fk_investor_alias_investor1`
    FOREIGN KEY (`investorId`)
    REFERENCES `tsb_v2`.`investor` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`exchange`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`exchange` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`exchange` (
  `id` INT NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`stock`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`stock` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`stock` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `company_id` INT NOT NULL,
  `exchange_id` INT NOT NULL,
  `name` VARCHAR(45) NULL,
  `symbol` VARCHAR(45) NULL,
  `offline` VARCHAR(45) NULL,
  `onDate` VARCHAR(45) NULL,
  `offDate` VARCHAR(45) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_stock_company1_idx` (`company_id` ASC),
  INDEX `fk_stock_exchange1_idx` (`exchange_id` ASC),
  CONSTRAINT `fk_stock_company1`
    FOREIGN KEY (`company_id`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_stock_exchange1`
    FOREIGN KEY (`exchange_id`)
    REFERENCES `tsb_v2`.`exchange` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`tmp_deal_flow`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`tmp_deal_flow` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`tmp_deal_flow` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealId` INT NULL,
  `companyId` INT NULL,
  `organizationId` INT NULL,
  `dealStatus` INT NULL,
  `dealflowStatus` INT NULL,
  `dealLastModifyTime` DATETIME NULL,
  `dealflowLastModifyTime` DATETIME NULL,
  `declineStatus` INT NULL,
  `estimate` INT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`sms`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`sms` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`sms` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `phone` VARCHAR(50) NULL,
  `code` VARCHAR(10) NULL,
  `createTime` TIMESTAMP NULL,
  `type` INT NULL,
  `sent` CHAR(1) NULL,
  `sendTime` TIMESTAMP NULL,
  `sendFailCount` INT NULL,
  `codeUsed` CHAR(1) NULL,
  `codeUsedTime` TIMESTAMP NULL,
  `userId` INT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`user_default_company_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`user_default_company_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`user_default_company_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NOT NULL,
  `companyId` INT NOT NULL,
  `createTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_user_default_company_rel_user1_idx` (`userId` ASC),
  INDEX `fk_user_default_company_rel_company1_idx` (`companyId` ASC),
  UNIQUE INDEX `fk_udcr_unq` (`userId` ASC, `companyId` ASC),
  CONSTRAINT `fk_user_default_company_rel_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_user_default_company_rel_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`user_investor_apply`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`user_investor_apply` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`user_investor_apply` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NOT NULL,
  `name` VARCHAR(100) NULL,
  `orgName` VARCHAR(200) NULL,
  `position` INT NULL,
  `email` VARCHAR(100) NULL,
  `phone` VARCHAR(100) NULL,
  `namecard` VARCHAR(50) NULL,
  `createTime` TIMESTAMP NULL,
  `auditor` INT NULL,
  `auditTime` TIMESTAMP NULL,
  `auditResult` CHAR(1) NULL,
  `emailDomain` VARCHAR(100) NULL,
  INDEX `fk_table1_user1_idx` (`userId` ASC),
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_table1_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`user_enterprise_trial_apply`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`user_enterprise_trial_apply` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`user_enterprise_trial_apply` (
  `id` INT NOT NULL,
  `useId` INT NOT NULL,
  `createTime` TIMESTAMP NULL,
  `processStatus` CHAR(1) NULL,
  `processTime` TIMESTAMP NULL,
  `approveStatus` CHAR(1) NULL,
  `approveDesc` TEXT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_user_enterprise_trial_apply_user1_idx` (`useId` ASC),
  CONSTRAINT `fk_user_enterprise_trial_apply_user1`
    FOREIGN KEY (`useId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`email_task`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`email_task` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`email_task` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `email` VARCHAR(50) NULL,
  `code` VARCHAR(10) NULL,
  `createTime` TIMESTAMP NULL,
  `type` INT NULL,
  `sent` CHAR(1) NULL,
  `sendTime` TIMESTAMP NULL,
  `sendFailCount` INT NULL,
  `codeUsed` CHAR(1) NULL,
  `codeUsedTime` TIMESTAMP NULL,
  `userId` INT NULL,
  `orgId` INT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`user_preference`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`user_preference` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`user_preference` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NOT NULL,
  `type` INT NULL COMMENT '1. round 2.location',
  `preference` VARCHAR(100) NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_user_round_user1_idx` (`userId` ASC),
  CONSTRAINT `fk_user_round_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`user_start_trial`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`user_start_trial` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`user_start_trial` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NOT NULL,
  `orgId` INT NOT NULL,
  `createTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_user_start_trial_user1_idx` (`userId` ASC),
  CONSTRAINT `fk_user_start_trial_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`sourcedeal`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`sourcedeal` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`sourcedeal` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(500) NOT NULL,
  `content` TEXT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `assignee` INT NULL,
  `sponsor` INT NULL,
  `origin` VARCHAR(100) NULL,
  `followStatus` INT NULL,
  `note` TEXT NULL,
  `orgId` INT NULL,
  `titleMd5` VARCHAR(32) NULL,
  PRIMARY KEY (`id`),
  INDEX `idx_sourcedeal1` (`orgId` ASC, `assignee` ASC, `followStatus` ASC),
  INDEX `idx_sourcedeal2` (`orgId` ASC, `sponsor` ASC, `followStatus` ASC),
  INDEX `idx_sourcedeal3` (`orgId` ASC, `titleMd5` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`sourcedeal_file`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`sourcedeal_file` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`sourcedeal_file` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourcedealId` INT NOT NULL,
  `filename` VARCHAR(500) NULL,
  `fileId` VARCHAR(50) NULL,
  `createTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_lead_file_lead1_idx` (`sourcedealId` ASC),
  CONSTRAINT `fk_lead_file_lead1`
    FOREIGN KEY (`sourcedealId`)
    REFERENCES `tsb_v2`.`sourcedeal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`sourcedeal_forward`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`sourcedeal_forward` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`sourcedeal_forward` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourcedealId` INT NOT NULL,
  `fromUserId` INT NULL,
  `toUserId` INT NULL,
  `createTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_lead_forward_lead1_idx` (`sourcedealId` ASC),
  CONSTRAINT `fk_lead_forward_lead1`
    FOREIGN KEY (`sourcedealId`)
    REFERENCES `tsb_v2`.`sourcedeal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`sourcedeal_process`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`sourcedeal_process` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`sourcedeal_process` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sourcedealId` INT NOT NULL,
  `status` INT NOT NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_sourcedeal_process_sourcedeal1_idx` (`sourcedealId` ASC),
  INDEX `idx_sp_status` (`status` ASC),
  CONSTRAINT `fk_sourcedeal_process_sourcedeal1`
    FOREIGN KEY (`sourcedealId`)
    REFERENCES `tsb_v2`.`sourcedeal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`quarterly_report`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`quarterly_report` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`quarterly_report` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dealId` INT NOT NULL,
  `title` VARCHAR(500) NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  `active` CHAR(1) NULL,
  `processStatus` INT NOT NULL DEFAULT 0 COMMENT '0. generating 1. ready -1. fail',
  `fundId` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_quarterly_report_deal1_idx` (`dealId` ASC),
  INDEX `fk_quarterly_report_fund1_idx` (`fundId` ASC),
  CONSTRAINT `fk_quarterly_report_deal1`
    FOREIGN KEY (`dealId`)
    REFERENCES `tsb_v2`.`deal` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_quarterly_report_fund1`
    FOREIGN KEY (`fundId`)
    REFERENCES `tsb_v2`.`fund` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`investor_alias_candidate`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`investor_alias_candidate` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`investor_alias_candidate` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `investorId` INT NOT NULL,
  `name` VARCHAR(200) NOT NULL,
  `type` INT NULL,
  `createTime` TIMESTAMP NULL,
  `candidate` CHAR(1) NULL DEFAULT 'N',
  `status` CHAR(1) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_investor_company_investor1_idx` (`investorId` ASC),
  CONSTRAINT `fk_investor_company_investor10`
    FOREIGN KEY (`investorId`)
    REFERENCES `tsb_v2`.`investor` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`audit_investor_company`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`audit_investor_company` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`audit_investor_company` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(200) NOT NULL,
  `investorId` INT NOT NULL,
  `companyId` INT NULL,
  `xiniuInvestor` CHAR(1) NULL DEFAULT 'N',
  `itjuziInvestor` CHAR(1) NULL DEFAULT 'N',
  `kr36Investor` CHAR(1) NULL DEFAULT 'N',
  `gongshangInvestor` CHAR(1) NULL DEFAULT 'N',
  `createTime` TIMESTAMP NULL,
  `operator` INT NULL,
  `operateTime` TIMESTAMP NULL,
  `operateStatus` CHAR(1) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_audit_investor_company_investor1_idx` (`investorId` ASC),
  INDEX `fk_audit_investor_company_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_audit_investor_company_investor1`
    FOREIGN KEY (`investorId`)
    REFERENCES `tsb_v2`.`investor` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_audit_investor_company_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`audit_investor_company_source`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`audit_investor_company_source` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`audit_investor_company_source` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `auditInvestorCompanyId` INT NOT NULL,
  `source` INT NOT NULL,
  `sourceId` VARCHAR(32) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_audit_investor_company_source_audit_investor_company1_idx` (`auditInvestorCompanyId` ASC),
  CONSTRAINT `fk_audit_investor_company_source_audit_investor_company1`
    FOREIGN KEY (`auditInvestorCompanyId`)
    REFERENCES `tsb_v2`.`audit_investor_company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`stat_fund_declined_funding`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`stat_fund_declined_funding` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`stat_fund_declined_funding` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `statFundId` INT NOT NULL,
  `companyId` INT NOT NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_stat_fund_declined_funding_stat_fund1_idx` (`statFundId` ASC),
  CONSTRAINT `fk_stat_fund_declined_funding_stat_fund1`
    FOREIGN KEY (`statFundId`)
    REFERENCES `tsb_v2`.`stat_fund` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`corporate_alias`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`corporate_alias` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`corporate_alias` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `corporateId` INT NOT NULL,
  `name` VARCHAR(200) NULL,
  `type` INT(8) NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyUser` INT NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_corporate_alias_corporate1_idx` (`corporateId` ASC),
  CONSTRAINT `fk_corporate_alias_corporate1`
    FOREIGN KEY (`corporateId`)
    REFERENCES `tsb_v2`.`corporate` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`investor_contact`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`investor_contact` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`investor_contact` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `investorId` INT NOT NULL,
  `locationId` INT NULL,
  `address` VARCHAR(500) NULL,
  `phone` VARCHAR(100) NULL,
  `email` VARCHAR(100) NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  `verify` CHAR(1) NULL,
  `active` VARCHAR(1) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_investor_contact_investor1_idx` (`investorId` ASC),
  CONSTRAINT `fk_investor_contact_investor1`
    FOREIGN KEY (`investorId`)
    REFERENCES `tsb_v2`.`investor` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`investor_tag_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`investor_tag_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`investor_tag_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `investorId` INT NOT NULL,
  `tagId` INT NOT NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  `confidence` FLOAT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_investor_tag_rel_investor1_idx` (`investorId` ASC),
  INDEX `fk_investor_tag_rel_tag1_idx` (`tagId` ASC),
  CONSTRAINT `fk_investor_tag_rel_investor1`
    FOREIGN KEY (`investorId`)
    REFERENCES `tsb_v2`.`investor` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_investor_tag_rel_tag1`
    FOREIGN KEY (`tagId`)
    REFERENCES `tsb_v2`.`tag` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`audit_task_assignee`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`audit_task_assignee` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`audit_task_assignee` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `taskType` INT NOT NULL,
  `auditor` INT NOT NULL,
  `createTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`auditor`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`auditor` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`auditor` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NOT NULL,
  `createTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`audit_task`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`audit_task` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`audit_task` (
  `id` INT NOT NULL,
  `auditorId` INT NOT NULL,
  `taskType` INT NULL,
  `taskId` VARCHAR(100) NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `processStatus` INT NULL,
  `description` TEXT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_aduit_task_auditor1_idx` (`auditorId` ASC),
  CONSTRAINT `fk_aduit_task_auditor1`
    FOREIGN KEY (`auditorId`)
    REFERENCES `tsb_v2`.`auditor` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`company_recruitment_rel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`company_recruitment_rel` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`company_recruitment_rel` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `jobCompanyId` VARCHAR(32) NOT NULL,
  `companyId` INT NOT NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_company_recruitment_rel_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_company_recruitment_rel_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`user_token`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`user_token` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`user_token` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NOT NULL,
  `deviceId` VARCHAR(100) NULL,
  `token` VARCHAR(100) NOT NULL,
  `tokenTime` DATETIME NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_user_token_user1_idx` (`userId` ASC),
  CONSTRAINT `fk_user_token_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`user_behavior`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`user_behavior` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`user_behavior` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `userId` INT NOT NULL,
  `lastUserMessageId` VARCHAR(100) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_user_behavior_user1_idx` (`userId` ASC),
  CONSTRAINT `fk_user_behavior_user1`
    FOREIGN KEY (`userId`)
    REFERENCES `tsb_v2`.`user` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`push_pool`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`push_pool` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`push_pool` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `companyId` INT NOT NULL,
  `sectorId` INT NULL,
  `sort` FLOAT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyTime` TIMESTAMP NULL,
  `hot` CHAR(1) NULL,
  `verify` CHAR(1) NOT NULL DEFAULT 'N',
  PRIMARY KEY (`id`),
  INDEX `fk_push_pool_company1_idx` (`companyId` ASC),
  INDEX `fk_push_pool_sector1_idx` (`sectorId` ASC),
  CONSTRAINT `fk_push_pool_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_push_pool_sector1`
    FOREIGN KEY (`sectorId`)
    REFERENCES `tsb_v2`.`sector` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`org_gokuai_conf`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`org_gokuai_conf` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`org_gokuai_conf` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `organizationId` INT NOT NULL,
  `clientid` VARCHAR(100) NULL,
  `clientsecret` VARCHAR(100) NULL,
  `active` CHAR(1) NULL DEFAULT 'Y',
  `createTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_org_gokuai_conf_organization1_idx` (`organizationId` ASC),
  CONSTRAINT `fk_org_gokuai_conf_organization1`
    FOREIGN KEY (`organizationId`)
    REFERENCES `tsb_v2`.`organization` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`org_openapi_conf`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`org_openapi_conf` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`org_openapi_conf` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `organizationId` INT NOT NULL,
  `accesskeyid` VARCHAR(100) NOT NULL,
  `accesskeysecret` VARCHAR(100) NOT NULL,
  `active` CHAR(1) NOT NULL,
  `createTime` TIMESTAMP NULL,
  `createUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_org_openapi_conf_organization1_idx` (`organizationId` ASC),
  INDEX `idx_accesskeyid` (`accesskeyid` ASC),
  CONSTRAINT `fk_org_openapi_conf_organization1`
    FOREIGN KEY (`organizationId`)
    REFERENCES `tsb_v2`.`organization` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `tsb_v2`.`hot_company`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tsb_v2`.`hot_company` ;

CREATE TABLE IF NOT EXISTS `tsb_v2`.`hot_company` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sectorId` INT NOT NULL,
  `companyId` INT NOT NULL,
  `createUser` INT NULL,
  `createTime` TIMESTAMP NULL,
  `modifyUser` INT NULL,
  `modifyTime` TIMESTAMP NULL,
  `verify` CHAR(1) NULL,
  `active` CHAR(1) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_hot_company_sector1_idx` (`sectorId` ASC),
  INDEX `fk_hot_company_company1_idx` (`companyId` ASC),
  CONSTRAINT `fk_hot_company_sector1`
    FOREIGN KEY (`sectorId`)
    REFERENCES `tsb_v2`.`sector` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_hot_company_company1`
    FOREIGN KEY (`companyId`)
    REFERENCES `tsb_v2`.`company` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
